const _0x576745=_0x1665;(function(_0x37ac66,_0x334b8e){const _0x5cf36c=_0x1665,_0xae0550=_0x37ac66();while(!![]){try{const _0x46a044=parseInt(_0x5cf36c(0x194))/0x1*(parseInt(_0x5cf36c(0x1e2))/0x2)+-parseInt(_0x5cf36c(0x195))/0x3*(-parseInt(_0x5cf36c(0x1e4))/0x4)+parseInt(_0x5cf36c(0x201))/0x5+-parseInt(_0x5cf36c(0x1a5))/0x6*(-parseInt(_0x5cf36c(0x1f2))/0x7)+-parseInt(_0x5cf36c(0x1b5))/0x8*(-parseInt(_0x5cf36c(0x167))/0x9)+-parseInt(_0x5cf36c(0x1c2))/0xa+-parseInt(_0x5cf36c(0x1ba))/0xb*(parseInt(_0x5cf36c(0x168))/0xc);if(_0x46a044===_0x334b8e)break;else _0xae0550['push'](_0xae0550['shift']());}catch(_0x12ad35){_0xae0550['push'](_0xae0550['shift']());}}}(_0x4d1a,0xc034c));var SQLITE_OK=0x0,SQLITE_ERROR=0x1,SQLITE_BUSY=0x5,SQLITE_IOERR=0xa,SQLITE_NOTFOUND=0xc,SQLITE_CANTOPEN=0xe,SQLITE_IOERR_ACCESS=0xd0a,SQLITE_IOERR_CLOSE=0x100a,SQLITE_IOERR_DELETE=0xa0a,SQLITE_IOERR_FSTAT=0x70a,SQLITE_IOERR_FSYNC=0x40a,SQLITE_IOERR_LOCK=0xf0a,SQLITE_IOERR_READ=0x10a,SQLITE_IOERR_SHORT_READ=0x20a,SQLITE_IOERR_TRUNCATE=0x60a,SQLITE_IOERR_WRITE=0x30a,SQLITE_OPEN_CREATE=0x4,SQLITE_OPEN_DELETEONCLOSE=0x8,SQLITE_OPEN_URI=0x40,SQLITE_OPEN_MAIN_DB=0x100,SQLITE_OPEN_TEMP_DB=0x200,SQLITE_OPEN_TRANSIENT_DB=0x400,SQLITE_OPEN_MAIN_JOURNAL=0x800,SQLITE_OPEN_TEMP_JOURNAL=0x1000,SQLITE_OPEN_SUBJOURNAL=0x2000,SQLITE_OPEN_SUPER_JOURNAL=0x4000,SQLITE_OPEN_WAL=0x80000,SQLITE_LOCK_NONE=0x0,SQLITE_LOCK_SHARED=0x1,SQLITE_LOCK_RESERVED=0x2,SQLITE_LOCK_EXCLUSIVE=0x4,SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN=0x800,SQLITE_IOCAP_BATCH_ATOMIC=0x4000,SQLITE_FCNTL_PRAGMA=0xe,SQLITE_FCNTL_SYNC=0x15,SQLITE_FCNTL_BEGIN_ATOMIC_WRITE=0x1f,SQLITE_FCNTL_COMMIT_ATOMIC_WRITE=0x20,SQLITE_FCNTL_ROLLBACK_ATOMIC_WRITE=0x21,DEFAULT_SECTOR_SIZE=0x200,Base=class{['name'];['mxPathname']=0x40;[_0x576745(0x1cb)];constructor(_0x14fef9,_0x4fa886){const _0x4b4b77=_0x576745;this['name']=_0x14fef9,this[_0x4b4b77(0x1cb)]=_0x4fa886;}async['isReady'](){}[_0x576745(0x1d0)](_0x142de3){return![];}[_0x576745(0x1e8)](_0x3a4ab2,_0x2a216e,_0x117043,_0x310042,_0x497cb0){return SQLITE_CANTOPEN;}[_0x576745(0x19a)](_0x295fe1,_0x3d976a,_0x36a079){return SQLITE_OK;}[_0x576745(0x17d)](_0x20876a,_0x22a5b8,_0x4ec9b6,_0x8b36d7){return SQLITE_OK;}[_0x576745(0x204)](_0x2007b1,_0x5af872,_0xe99ee9,_0x756702){return SQLITE_OK;}[_0x576745(0x1ad)](_0x87cea5,_0x443c9d,_0x21b83f){return SQLITE_OK;}[_0x576745(0x210)](_0x50f6ee){return SQLITE_OK;}[_0x576745(0x15f)](_0xb2a11a,_0x555d35,_0x38ce47,_0x138cd1,_0x3cd7ac){return SQLITE_OK;}[_0x576745(0x1cc)](_0x4f26ef,_0x1ebac8,_0x5ce5fc,_0xeab600,_0x472c17){return SQLITE_OK;}[_0x576745(0x179)](_0x3a5a0a,_0x2bfdac,_0x40e6d7){return SQLITE_OK;}[_0x576745(0x19e)](_0x3c3602,_0x3cbce7){return SQLITE_OK;}[_0x576745(0x1b0)](_0x20fa38,_0x2c1228){return SQLITE_OK;}['xLock'](_0x3e7618,_0xe882eb){const _0x34f8eb=_0x576745;return console[_0x34f8eb(0x178)]('xLock',_0x3e7618,_0xe882eb),SQLITE_OK;}[_0x576745(0x187)](_0x12a992,_0x4dd071){return SQLITE_OK;}[_0x576745(0x20d)](_0x2af89e,_0x2f5173){return SQLITE_OK;}['xFileControl'](_0x4dd3e8,_0x4153b7,_0x5b0f12){return SQLITE_NOTFOUND;}[_0x576745(0x1d6)](_0x15aafa){return DEFAULT_SECTOR_SIZE;}['xDeviceCharacteristics'](_0x1cb16c){return 0x0;}},FILE_TYPE_MASK=[SQLITE_OPEN_MAIN_DB,SQLITE_OPEN_MAIN_JOURNAL,SQLITE_OPEN_TEMP_DB,SQLITE_OPEN_TEMP_JOURNAL,SQLITE_OPEN_TRANSIENT_DB,SQLITE_OPEN_SUBJOURNAL,SQLITE_OPEN_SUPER_JOURNAL,SQLITE_OPEN_WAL]['reduce']((_0x3fa286,_0x556483)=>_0x3fa286|_0x556483),AsyncFunction=Object['getPrototypeOf'](async function(){})[_0x576745(0x1f8)],FacadeVFS=class extends Base{constructor(_0x4c6a0c,_0x4a5b31){super(_0x4c6a0c,_0x4a5b31);}[_0x576745(0x1d0)](_0x16a41b){const _0x2e1e8f=_0x576745,_0x307909='j'+_0x16a41b[_0x2e1e8f(0x202)](0x1);return this[_0x307909]instanceof AsyncFunction;}[_0x576745(0x1c6)](_0x213e79){throw new Error('unimplemented');}[_0x576745(0x1de)](_0x55ba61,_0x29bd31,_0x4a1dc3,_0x4e417a){return SQLITE_CANTOPEN;}[_0x576745(0x1bb)](_0x52fc5e,_0x353d5e){return SQLITE_OK;}[_0x576745(0x1f4)](_0x5b8722,_0x25cac8,_0x29207f){return SQLITE_OK;}[_0x576745(0x1eb)](_0x5ef4a0,_0x5ecda4){const _0x351066=_0x576745,{read:_0x24a929,written:_0x298bf8}=new TextEncoder()[_0x351066(0x1f5)](_0x5ef4a0,_0x5ecda4);if(_0x24a929<_0x5ef4a0['length'])return SQLITE_IOERR;if(_0x298bf8>=_0x5ecda4[_0x351066(0x152)])return SQLITE_IOERR;return _0x5ecda4[_0x298bf8]=0x0,SQLITE_OK;}[_0x576745(0x171)](_0x233b73){return SQLITE_OK;}['jClose'](_0x30db02){return SQLITE_OK;}[_0x576745(0x1bf)](_0x3c925e,_0xe59192,_0x54d7a2){const _0x5568d3=_0x576745;return _0xe59192[_0x5568d3(0x1a3)](0x0),SQLITE_IOERR_SHORT_READ;}[_0x576745(0x17f)](_0x3229bb,_0x5b78b0,_0x3c36af){return SQLITE_IOERR_WRITE;}['jTruncate'](_0x50bb41,_0x47d385){return SQLITE_OK;}[_0x576745(0x156)](_0x3376bc,_0x5a4992){return SQLITE_OK;}['jFileSize'](_0x5dee45,_0x2093e5){return SQLITE_OK;}[_0x576745(0x1e6)](_0x52a2d5,_0x8f183){return SQLITE_OK;}[_0x576745(0x1ab)](_0x3b352c,_0xac7d92){return SQLITE_OK;}[_0x576745(0x16a)](_0xbe692f,_0x5552a1){const _0xcd8f57=_0x576745;return _0x5552a1[_0xcd8f57(0x216)](0x0,0x0,!![]),SQLITE_OK;}[_0x576745(0x19c)](_0x2705a7,_0x213373,_0x304a71){return SQLITE_NOTFOUND;}[_0x576745(0x1e5)](_0x514cd1){const _0x4932e6=_0x576745;return super[_0x4932e6(0x1d6)](_0x514cd1);}['jDeviceCharacteristics'](_0x95b9db){return 0x0;}[_0x576745(0x1e8)](_0x564137,_0x474ca6,_0x2e919c,_0x5723b6,_0x66523){const _0x765149=_0x576745,_0x395fb3=this.#decodeFilename(_0x474ca6,_0x5723b6),_0x362d01=this.#makeTypedDataView('Int32',_0x66523);return this['log']?.('jOpen',_0x395fb3,_0x2e919c,'0x'+_0x5723b6[_0x765149(0x16f)](0x10)),this[_0x765149(0x1de)](_0x395fb3,_0x2e919c,_0x5723b6,_0x362d01);}[_0x576745(0x19a)](_0x1dbbc4,_0x4824,_0x38cb70){const _0xac75fe=_0x576745,_0x414a08=this[_0xac75fe(0x1cb)][_0xac75fe(0x153)](_0x4824);return this[_0xac75fe(0x178)]?.('jDelete',_0x414a08,_0x38cb70),this[_0xac75fe(0x1bb)](_0x414a08,_0x38cb70);}[_0x576745(0x17d)](_0x1c694a,_0x468bc9,_0x461fd4,_0x147a04){const _0x26dfd9=_0x576745,_0x35c461=this['_module'][_0x26dfd9(0x153)](_0x468bc9),_0xe17bcc=this.#makeTypedDataView(_0x26dfd9(0x1c4),_0x147a04);return this[_0x26dfd9(0x178)]?.('jAccess',_0x35c461,_0x461fd4),this[_0x26dfd9(0x1f4)](_0x35c461,_0x461fd4,_0xe17bcc);}[_0x576745(0x204)](_0x2d29f2,_0x35ac60,_0x2bf149,_0x3212ff){const _0x36b3ba=_0x576745,_0x44f75d=this['_module'][_0x36b3ba(0x153)](_0x35ac60),_0x8c188c=this[_0x36b3ba(0x1cb)][_0x36b3ba(0x17a)][_0x36b3ba(0x207)](_0x3212ff,_0x3212ff+_0x2bf149);return this[_0x36b3ba(0x178)]?.('jFullPathname',_0x44f75d,_0x2bf149),this[_0x36b3ba(0x1eb)](_0x44f75d,_0x8c188c);}['xGetLastError'](_0x47de8d,_0x2857bb,_0x3762ca){const _0x1e8507=_0x576745,_0x425966=this[_0x1e8507(0x1cb)]['HEAPU8'][_0x1e8507(0x207)](_0x3762ca,_0x3762ca+_0x2857bb);return this[_0x1e8507(0x178)]?.('jGetLastError',_0x2857bb),this[_0x1e8507(0x171)](_0x425966);}[_0x576745(0x210)](_0x3f4439){const _0x486c31=_0x576745;return this[_0x486c31(0x178)]?.(_0x486c31(0x190),_0x3f4439),this[_0x486c31(0x190)](_0x3f4439);}[_0x576745(0x15f)](_0x4db027,_0x551b74,_0x5729d9,_0x4e3d24,_0x3c5444){const _0x48d739=_0x576745,_0x34e84c=this.#makeDataArray(_0x551b74,_0x5729d9),_0x3cc347=delegalize(_0x4e3d24,_0x3c5444);return this[_0x48d739(0x178)]?.(_0x48d739(0x1bf),_0x4db027,_0x5729d9,_0x3cc347),this[_0x48d739(0x1bf)](_0x4db027,_0x34e84c,_0x3cc347);}[_0x576745(0x1cc)](_0x43e7e7,_0x3aee8c,_0x2f840e,_0x725183,_0x587d64){const _0x544cc4=_0x576745,_0x12db9f=this.#makeDataArray(_0x3aee8c,_0x2f840e),_0x30f5f9=delegalize(_0x725183,_0x587d64);return this[_0x544cc4(0x178)]?.('jWrite',_0x43e7e7,_0x12db9f,_0x30f5f9),this['jWrite'](_0x43e7e7,_0x12db9f,_0x30f5f9);}[_0x576745(0x179)](_0x4be55e,_0x3111bc,_0x359379){const _0xf69ebb=_0x576745,_0xb40d7a=delegalize(_0x3111bc,_0x359379);return this[_0xf69ebb(0x178)]?.('jTruncate',_0x4be55e,_0xb40d7a),this[_0xf69ebb(0x1ef)](_0x4be55e,_0xb40d7a);}[_0x576745(0x19e)](_0x58d7f2,_0x1d2625){const _0x2f5444=_0x576745;return this['log']?.(_0x2f5444(0x156),_0x58d7f2,_0x1d2625),this[_0x2f5444(0x156)](_0x58d7f2,_0x1d2625);}['xFileSize'](_0x5ce378,_0x1e4e77){const _0x5d31df=_0x576745,_0x4d6ecb=this.#makeTypedDataView('BigInt64',_0x1e4e77);return this[_0x5d31df(0x178)]?.(_0x5d31df(0x170),_0x5ce378),this['jFileSize'](_0x5ce378,_0x4d6ecb);}[_0x576745(0x166)](_0x4d5d6c,_0x2c05e6){const _0x12e9b6=_0x576745;return this[_0x12e9b6(0x178)]?.(_0x12e9b6(0x1e6),_0x4d5d6c,_0x2c05e6),this[_0x12e9b6(0x1e6)](_0x4d5d6c,_0x2c05e6);}[_0x576745(0x187)](_0x3a0c26,_0x11000e){const _0x327a7c=_0x576745;return this[_0x327a7c(0x178)]?.(_0x327a7c(0x1ab),_0x3a0c26,_0x11000e),this[_0x327a7c(0x1ab)](_0x3a0c26,_0x11000e);}['xCheckReservedLock'](_0x172558,_0x54d973){const _0x20303c=_0x576745,_0x53fea5=this.#makeTypedDataView('Int32',_0x54d973);return this[_0x20303c(0x178)]?.('jCheckReservedLock',_0x172558),this[_0x20303c(0x16a)](_0x172558,_0x53fea5);}[_0x576745(0x1fd)](_0x59d8eb,_0x2243f3,_0x264f5a){const _0x5c1b5e=_0x576745,_0x3c2e81=new DataView(this[_0x5c1b5e(0x1cb)]['HEAPU8']['buffer'],this['_module'][_0x5c1b5e(0x17a)]['byteOffset']+_0x264f5a);return this[_0x5c1b5e(0x178)]?.(_0x5c1b5e(0x19c),_0x59d8eb,_0x2243f3,_0x3c2e81),this[_0x5c1b5e(0x19c)](_0x59d8eb,_0x2243f3,_0x3c2e81);}['xSectorSize'](_0x379fa5){const _0x55e329=_0x576745;return this['log']?.(_0x55e329(0x1e5),_0x379fa5),this[_0x55e329(0x1e5)](_0x379fa5);}[_0x576745(0x192)](_0x5df8d2){const _0x24d930=_0x576745;return this['log']?.(_0x24d930(0x1d5),_0x5df8d2),this[_0x24d930(0x1d5)](_0x5df8d2);}#makeTypedDataView(_0x388b96,_0x55dca7){const _0x10c59a=_0x576745,_0x4df223=_0x388b96===_0x10c59a(0x1c4)?0x4:0x8,_0x122736=_0x10c59a(0x214)+_0x388b96,_0x3428b9=_0x10c59a(0x1c9)+_0x388b96,_0xe84597=()=>new DataView(this[_0x10c59a(0x1cb)]['HEAPU8'][_0x10c59a(0x1dc)],this[_0x10c59a(0x1cb)]['HEAPU8']['byteOffset']+_0x55dca7,_0x4df223);let _0x3c48d9=_0xe84597();return new Proxy(_0x3c48d9,{'get'(_0x130794,_0x5b89cd){const _0xa8791a=_0x10c59a;_0x3c48d9[_0xa8791a(0x1dc)][_0xa8791a(0x1c8)]===0x0&&(_0x3c48d9=_0xe84597());if(_0x5b89cd===_0x122736)return function(_0x18ebf6,_0x206035){const _0x36bf61=_0xa8791a;if(!_0x206035)throw new Error(_0x36bf61(0x1f1));return _0x3c48d9[_0x5b89cd](_0x18ebf6,_0x206035);};if(_0x5b89cd===_0x3428b9)return function(_0x15924d,_0x3a0b9c,_0x222361){const _0x3f4cc7=_0xa8791a;if(!_0x222361)throw new Error(_0x3f4cc7(0x1f1));return _0x3c48d9[_0x5b89cd](_0x15924d,_0x3a0b9c,_0x222361);};if(typeof _0x5b89cd===_0xa8791a(0x20a)&&_0x5b89cd[_0xa8791a(0x1d1)](/^(get)|(set)/))throw new Error(_0xa8791a(0x1a7));const _0x1e51b9=_0x3c48d9[_0x5b89cd];return typeof _0x1e51b9===_0xa8791a(0x15d)?_0x1e51b9['bind'](_0x3c48d9):_0x1e51b9;}});}#makeDataArray(_0x6afefb,_0x522a30){const _0x574266=_0x576745;let _0x369e5a=this[_0x574266(0x1cb)]['HEAPU8']['subarray'](_0x6afefb,_0x6afefb+_0x522a30);return new Proxy(_0x369e5a,{'get':(_0xc30276,_0x392ba6,_0x5a9ddf)=>{const _0x2c25f5=_0x574266;_0x369e5a[_0x2c25f5(0x1dc)][_0x2c25f5(0x1c8)]===0x0&&(_0x369e5a=this[_0x2c25f5(0x1cb)]['HEAPU8'][_0x2c25f5(0x207)](_0x6afefb,_0x6afefb+_0x522a30));const _0x40ed10=_0x369e5a[_0x392ba6];return typeof _0x40ed10==='function'?_0x40ed10[_0x2c25f5(0x1fe)](_0x369e5a):_0x40ed10;}});}#decodeFilename(_0x12b45b,_0x3bf06b){const _0x3f7366=_0x576745;if(_0x3bf06b&SQLITE_OPEN_URI){let _0x3f585f=_0x12b45b,_0x475b8e=0x1;const _0x2a8055=[];while(_0x475b8e){const _0x5697fe=this['_module'][_0x3f7366(0x17a)][_0x3f585f++];if(_0x5697fe)_0x2a8055[_0x3f7366(0x18e)](_0x5697fe);else{if(!this[_0x3f7366(0x1cb)][_0x3f7366(0x17a)][_0x3f585f])_0x475b8e=null;switch(_0x475b8e){case 0x1:_0x2a8055[_0x3f7366(0x18e)]('?'['charCodeAt'](0x0)),_0x475b8e=0x2;break;case 0x2:_0x2a8055[_0x3f7366(0x18e)]('='[_0x3f7366(0x1f7)](0x0)),_0x475b8e=0x3;break;case 0x3:_0x2a8055[_0x3f7366(0x18e)]('&'[_0x3f7366(0x1f7)](0x0)),_0x475b8e=0x2;break;}}}return new TextDecoder()[_0x3f7366(0x15e)](new Uint8Array(_0x2a8055));}return _0x12b45b?this[_0x3f7366(0x1cb)][_0x3f7366(0x153)](_0x12b45b):null;}};function _0x1665(_0x5bc77d,_0x3af597){const _0x4d1a2a=_0x4d1a();return _0x1665=function(_0x166588,_0x1f7b26){_0x166588=_0x166588-0x152;let _0x401c2d=_0x4d1a2a[_0x166588];return _0x401c2d;},_0x1665(_0x5bc77d,_0x3af597);}function _0x4d1a(){const _0xa9dbcd=['digest','txActive','clear','availableFrames','request','log','xTruncate','HEAPU8','result','localTxId','xAccess','mapPageToFrame','jWrite','walMetadata','read\x20page\x20','size','add','onerror','onupgradeneeded','COMMIT_ATOMIC_WRITE','xUnlock','delete','getSize','walAccessHandle','some','put','filter','push','removeEntry','jClose','createSyncAccessHandle','xDeviceCharacteristics','warn','11ULXFDF','933rzIiye','ROLLBACK_ATOMIC_WRITE','readLock','wal_autocheckpoint','resolve','xDelete','getFileHandle','jFileControl','mapIdToFile','xSync','read[','setUint32','getDirectory','\x20from\x20WAL','fill','Mapping\x20page\x20','12684bNLyNG','\x20from\x20WAL\x20','invalid\x20type','trunc','write\x20page\x20','stringify','jUnlock','wal_autocheckpoint\x20must\x20be\x20numeric\x00','xGetLastError','query','write','xFileSize','read','map','getUint16','storage','32mktHoy','-floor','\x20to\x20frame\x20','onsuccess','error','16511sdwCvT','jDelete','BEGIN_ATOMIC_WRITE','Restoring\x20frame\x20','message','jRead','pending','value','6422560HtlZDk','getDirectoryHandle','Int32','Checkpoint\x20page\x20','getLockName','Pruning\x20tx\x20records\x20older\x20than\x20','byteLength','set','create','_module','xWrite','debug','open','openLock','hasAsyncMethod','match','path','\x20for\x20page\x20','count','jDeviceCharacteristics','xSectorSize','oldestTxInUse','name','Removing\x20page\x20','shared','SYNC','buffer','close','jOpen','file://','txFrameCount','gate','62312oIySzG','readwrite','10924BUEUdQ','jSectorSize','jLock','autoCheckpoint','xOpen','locks','has','jFullPathname','upperBound','pop','Checksum\x20error\x20on\x20tx\x20','jTruncate','createObjectStore','must\x20be\x20little\x20endian','2065nuAGTn','flush','jAccess','encodeInto','split','charCodeAt','constructor','keys','prev','setBigInt64','commit','xFileControl','bind','isReady','toLowerCase','4129470rvJpwI','slice','mapTxToPages','xFullPathname','assert','getKey','subarray','then','random','string','openCursor','txPageCount','xCheckReservedLock','readwrite-unsafe','held','xClose','writeLock','pageCount','update','get','\x20to\x20WAL\x20','setInt32','txPages','objectStore','length','UTF8ToString','max','Adding\x20tx\x20','jSync','transaction\x20already\x20active','transaction','\x20in\x20WAL','getAll','page_size','truncate','function','decode','xRead','relaxed','from','flags','pathname','\x20frame\x20','values','xLock','1193877HejMMj','13932omysBr','next','jCheckReservedLock','frameIndex','accessHandle','lastError','indexOf','toString','jFileSize','jGetLastError','pageSize'];_0x4d1a=function(){return _0xa9dbcd;};return _0x4d1a();}function delegalize(_0x185da1,_0x40731b){return _0x40731b*0x100000000+_0x185da1+(_0x185da1<0x0?0x2**0x20:0x0);}var DEFAULT_AUTO_CHECKPOINT=0x1;function log(..._0x8fbe06){const _0x30f93b=_0x576745;console[_0x30f93b(0x178)](..._0x8fbe06);}log['debug']=function(..._0x8d25cd){const _0x2fe511=_0x576745;console[_0x2fe511(0x1cd)](..._0x8d25cd);};var File=class{[_0x576745(0x1d2)];[_0x576745(0x162)];[_0x576745(0x16c)];[_0x576745(0x18a)];[_0x576745(0x180)];['pageSize'];[_0x576745(0x212)];['mapPageToFrame'];['mapTxToPages'];[_0x576745(0x176)];['localTxId'];['autoCheckpoint'];[_0x576745(0x174)];['txPageCount'];[_0x576745(0x1e0)];[_0x576745(0x217)];[_0x576745(0x1cf)];[_0x576745(0x197)];['writeLock'];[_0x576745(0x1d7)];constructor(_0x4b9a41,_0x1a4208,_0x304595){const _0x67802a=_0x576745;this[_0x67802a(0x1d2)]=_0x4b9a41,this['flags']=_0x1a4208,this[_0x67802a(0x16c)]=_0x304595,_0x1a4208&SQLITE_OPEN_MAIN_DB&&(this['walAccessHandle']=null,this[_0x67802a(0x172)]=0x0,this[_0x67802a(0x212)]=0x0,this[_0x67802a(0x17e)]=new Map(),this['mapTxToPages']=new Map(),this[_0x67802a(0x176)]=new Set(),this[_0x67802a(0x17c)]=0x0,this[_0x67802a(0x1e7)]=DEFAULT_AUTO_CHECKPOINT,this['txActive']=![],this[_0x67802a(0x20c)]=0x0,this[_0x67802a(0x1e0)]=0x0,this[_0x67802a(0x217)]=new Map(),this[_0x67802a(0x1cf)]=null,this[_0x67802a(0x197)]=Promise[_0x67802a(0x199)](null),this['writeLock']=null);}},FLOOR=class _FLOOR extends FacadeVFS{[_0x576745(0x19d)]=new Map();static async[_0x576745(0x1ca)](_0x15f779,_0x3f7e6a){const _0x210d1c=_0x576745,_0x1f50e5=new _FLOOR(_0x15f779,_0x3f7e6a);return await _0x1f50e5[_0x210d1c(0x1ff)](),_0x1f50e5;}constructor(_0x2cc9ec,_0x299da9){super(_0x2cc9ec,_0x299da9);}[_0x576745(0x178)](..._0x371318){const _0x53bde5=_0x576745;console[_0x53bde5(0x178)](..._0x371318);}[_0x576745(0x1dd)](){const _0x49fc85=_0x576745;for(const _0x658430 of this[_0x49fc85(0x19d)][_0x49fc85(0x1f9)]()){this['jClose'](_0x658430);}}async[_0x576745(0x1de)](_0x2a9c8d,_0x210808,_0x314ac4,_0x554cc6){const _0x40d5c3=_0x576745,_0x2abac3=[];try{const _0x3193ee=new URL(_0x2a9c8d||Math[_0x40d5c3(0x209)]()[_0x40d5c3(0x16f)](0x24)[_0x40d5c3(0x202)](0x2),_0x40d5c3(0x1df)),_0x449da0=_0x3193ee[_0x40d5c3(0x163)],_0x2197ec=_0x449da0['split']('/')[_0x40d5c3(0x18d)](_0x30b432=>_0x30b432),_0xae3ae2=_0x2197ec[_0x40d5c3(0x1ed)](),_0x1e34a2=!!(_0x314ac4&SQLITE_OPEN_CREATE);let _0x47e14f=await navigator['storage'][_0x40d5c3(0x1a1)]();for(const _0x44bd81 of _0x2197ec){_0x47e14f=await _0x47e14f[_0x40d5c3(0x1c3)](_0x44bd81,{'create':_0x1e34a2});}const _0x1e5cfa=await _0x47e14f[_0x40d5c3(0x19b)](_0xae3ae2,{'create':_0x1e34a2}),_0x299fcc=await _0x1e5cfa[_0x40d5c3(0x191)]({'mode':'readwrite-unsafe'});_0x2abac3[_0x40d5c3(0x18e)](()=>{_0x299fcc['close']();});const _0x3c28e1=new File(_0x449da0,_0x314ac4,_0x299fcc);if(_0x314ac4&SQLITE_OPEN_MAIN_DB){const _0x29674f=await _0x47e14f[_0x40d5c3(0x19b)](_0xae3ae2+_0x40d5c3(0x1b6),{'create':!![]});_0x3c28e1[_0x40d5c3(0x18a)]=await _0x29674f['createSyncAccessHandle']({'mode':_0x40d5c3(0x20e)}),_0x2abac3[_0x40d5c3(0x18e)](()=>{const _0x5ae705=_0x40d5c3;_0x3c28e1[_0x5ae705(0x18a)][_0x5ae705(0x1dd)]();}),_0x3c28e1['walMetadata']=await new Promise((_0x41d429,_0xad540f)=>{const _0x28e37e=_0x40d5c3,_0x44e913=indexedDB['open'](_0xae3ae2+'-floor',0x1);_0x44e913[_0x28e37e(0x1b8)]=()=>_0x41d429(_0x44e913[_0x28e37e(0x17b)]),_0x44e913['onerror']=()=>_0xad540f(_0x44e913[_0x28e37e(0x1b9)]),_0x44e913[_0x28e37e(0x185)]=()=>{const _0x3f26e9=_0x28e37e,_0x5d4f5d=_0x44e913[_0x3f26e9(0x17b)];_0x5d4f5d[_0x3f26e9(0x1f0)]('tx',{'keyPath':'id'});};}),_0x2abac3[_0x40d5c3(0x18e)](()=>{const _0x4a2548=_0x40d5c3;_0x3c28e1['walMetadata'][_0x4a2548(0x1dd)]();});const _0x29c6cd=await this.#lock(_0x449da0,_0x40d5c3(0x1e1));if(_0x29c6cd)_0x2abac3[_0x40d5c3(0x18e)](_0x29c6cd);if(_0x3c28e1['accessHandle'][_0x40d5c3(0x189)]()>=0x14){const _0x222ebf=new DataView(new ArrayBuffer(0x2));_0x3c28e1[_0x40d5c3(0x16c)]['read'](_0x222ebf,{'at':0x10}),_0x3c28e1[_0x40d5c3(0x172)]=_0x222ebf[_0x40d5c3(0x1b3)](0x0),_0x3c28e1['pageSize']===0x1&&(_0x3c28e1[_0x40d5c3(0x172)]=0x10000),log['debug']('page\x20size\x20is\x20'+_0x3c28e1['pageSize']);}const _0x2aad0c=this.#lockName(_0x3c28e1[_0x40d5c3(0x1d2)],_0x40d5c3(0x1ce));await navigator[_0x40d5c3(0x1e9)][_0x40d5c3(0x177)](_0x2aad0c,{'ifAvailable':!![]},async _0x55997f=>{_0x55997f&&(await this.#verifyFrames(_0x3c28e1),await this.#checkpointFull(_0x3c28e1));}),_0x3c28e1[_0x40d5c3(0x1cf)]=await this.#lock(_0x449da0,_0x40d5c3(0x1ce),{'mode':_0x40d5c3(0x1da)}),_0x29c6cd(),_0x2abac3[_0x40d5c3(0x1ed)]();}return this[_0x40d5c3(0x19d)][_0x40d5c3(0x1c9)](_0x210808,_0x3c28e1),_0x554cc6[_0x40d5c3(0x216)](0x0,_0x314ac4,!![]),SQLITE_OK;}catch(_0x52feaf){while(_0x2abac3['length']){try{_0x2abac3[_0x40d5c3(0x1ed)]()();}catch(_0xc30fe5){console[_0x40d5c3(0x1b9)](_0xc30fe5);}}return this['lastError']=_0x52feaf,SQLITE_CANTOPEN;}}async[_0x576745(0x1bb)](_0x225491,_0x51c0ce){const _0xa5b4d0=_0x576745;try{const _0xc7bf61=new URL(_0x225491,_0xa5b4d0(0x1df)),_0x21b4a5=_0xc7bf61[_0xa5b4d0(0x163)][_0xa5b4d0(0x1f6)]('/')['filter'](_0x53d248=>_0x53d248),_0x2875c0=_0x21b4a5['pop']();let _0x163f26=await navigator[_0xa5b4d0(0x1b4)][_0xa5b4d0(0x1a1)]();for(const _0x156865 of _0x21b4a5){_0x163f26=await _0x163f26['getDirectoryHandle'](_0x156865);}return _0x51c0ce?await _0x163f26['removeEntry'](_0x2875c0):_0x163f26[_0xa5b4d0(0x18f)](_0x2875c0),SQLITE_OK;}catch(_0x23f2cc){return console[_0xa5b4d0(0x1b9)](_0x23f2cc),this[_0xa5b4d0(0x16d)]=_0x23f2cc,SQLITE_IOERR_DELETE;}}async['jAccess'](_0x36336c,_0x480f50,_0x105ed6){const _0x51c24e=_0x576745;try{const _0x5646ec=new URL(_0x36336c,_0x51c24e(0x1df)),_0x1cff17=_0x5646ec[_0x51c24e(0x163)][_0x51c24e(0x1f6)]('/')['filter'](_0x27207a=>_0x27207a),_0x11397d=_0x1cff17[_0x51c24e(0x1ed)]();let _0xa754fe=await navigator[_0x51c24e(0x1b4)][_0x51c24e(0x1a1)]();for(const _0x109217 of _0x1cff17){_0xa754fe=await _0xa754fe['getDirectoryHandle'](_0x109217);}const _0x4be196=await _0xa754fe['getFileHandle'](_0x11397d);return _0x105ed6[_0x51c24e(0x216)](0x0,_0x4be196?0x1:0x0,!![]),SQLITE_OK;}catch(_0x6cb7a){if(_0x6cb7a[_0x51c24e(0x1d8)]==='NotFoundError')return _0x105ed6[_0x51c24e(0x216)](0x0,0x0,!![]),SQLITE_OK;return console[_0x51c24e(0x1b9)](_0x6cb7a),this[_0x51c24e(0x16d)]=_0x6cb7a,SQLITE_IOERR_ACCESS;}}async['jClose'](_0x1cd0ea){const _0x81f2d8=_0x576745;try{const _0x4cace3=this[_0x81f2d8(0x19d)][_0x81f2d8(0x214)](_0x1cd0ea);this[_0x81f2d8(0x19d)][_0x81f2d8(0x188)](_0x1cd0ea),_0x4cace3?.[_0x81f2d8(0x16c)]?.['close']();if(_0x4cace3?.[_0x81f2d8(0x162)]&SQLITE_OPEN_MAIN_DB){const _0x1c79a6=new Promise((_0x30eb71,_0x1623c9)=>{const _0x1f4660=_0x81f2d8,_0xffd920=_0x4cace3[_0x1f4660(0x180)]['transaction']('tx',_0x1f4660(0x1e3));_0xffd920['oncomplete']=()=>_0x30eb71(),_0xffd920['onerror']=()=>_0x1623c9(_0xffd920[_0x1f4660(0x1b9)]),_0xffd920['commit']();});_0x4cace3?.[_0x81f2d8(0x18a)]?.[_0x81f2d8(0x1dd)](),_0x4cace3?.[_0x81f2d8(0x197)]['then'](_0xb0a1f2=>_0xb0a1f2?.()),_0x4cace3?.['writeLock']?.(),_0x4cace3?.[_0x81f2d8(0x1cf)]?.(),await _0x1c79a6;}return _0x4cace3?.['flags']&SQLITE_OPEN_DELETEONCLOSE&&this['jDelete'](_0x4cace3[_0x81f2d8(0x1d2)],0x0),SQLITE_OK;}catch(_0x30084f){return console[_0x81f2d8(0x1b9)](_0x30084f),this['lastError']=_0x30084f,SQLITE_IOERR_CLOSE;}}[_0x576745(0x1bf)](_0x5879d1,_0x2e210a,_0xd5a227){const _0x272f8c=_0x576745;try{const _0x54ed71=this[_0x272f8c(0x19d)][_0x272f8c(0x214)](_0x5879d1);if(_0x54ed71[_0x272f8c(0x18a)]&&_0x54ed71[_0x272f8c(0x172)]){const _0x55e019=Math[_0x272f8c(0x1a8)](_0xd5a227/_0x54ed71[_0x272f8c(0x172)])+0x1,_0x481f3a=_0xd5a227%_0x54ed71['pageSize'],_0x46befe=_0x54ed71['txPages']['get'](_0x55e019)?.[_0x272f8c(0x16b)]??_0x54ed71[_0x272f8c(0x17e)][_0x272f8c(0x214)](_0x55e019);if(_0x46befe>=0x0){log[_0x272f8c(0x1cd)](_0x272f8c(0x181)+_0x55e019+_0x272f8c(0x1a6)+_0x46befe);const _0x50d138=_0x46befe*_0x54ed71[_0x272f8c(0x172)]+_0x481f3a,_0x236938=_0x54ed71['walAccessHandle'][_0x272f8c(0x1b1)](_0x2e210a[_0x272f8c(0x207)](),{'at':_0x50d138});if(_0x236938!==_0x2e210a[_0x272f8c(0x1c8)])throw new Error('invalid\x20frame');return SQLITE_OK;}}const _0x30f36a=_0x54ed71[_0x272f8c(0x16c)][_0x272f8c(0x1b1)](_0x2e210a[_0x272f8c(0x207)](),{'at':_0xd5a227});if(_0x30f36a<_0x2e210a[_0x272f8c(0x1c8)])return _0x2e210a[_0x272f8c(0x1a3)](0x0,_0x30f36a),SQLITE_IOERR_SHORT_READ;return SQLITE_OK;}catch(_0x34c7f6){return console[_0x272f8c(0x1b9)](_0x34c7f6),this['lastError']=_0x34c7f6,SQLITE_IOERR_READ;}}['jWrite'](_0x2fa9e3,_0x4ed576,_0x46f8c2){const _0x593aa0=_0x576745;try{const _0xc9ec61=this[_0x593aa0(0x19d)][_0x593aa0(0x214)](_0x2fa9e3);if(_0xc9ec61[_0x593aa0(0x162)]&SQLITE_OPEN_MAIN_DB){!_0xc9ec61[_0x593aa0(0x174)]&&this.#txBegin(_0xc9ec61);_0xc9ec61['pageSize']=_0xc9ec61['pageSize']||_0x4ed576[_0x593aa0(0x1c8)];const _0x5af2ec=Math[_0x593aa0(0x1a8)](_0x46f8c2/_0xc9ec61[_0x593aa0(0x172)])+0x1;if(_0xc9ec61[_0x593aa0(0x17c)]){let _0x3ad8cc;if(_0xc9ec61[_0x593aa0(0x217)][_0x593aa0(0x1ea)](_0x5af2ec))_0x3ad8cc=_0xc9ec61[_0x593aa0(0x217)][_0x593aa0(0x214)](_0x5af2ec)[_0x593aa0(0x16b)];else _0xc9ec61['availableFrames']['size']?(_0x3ad8cc=_0xc9ec61[_0x593aa0(0x176)][_0x593aa0(0x165)]()['next']()[_0x593aa0(0x1c1)],_0xc9ec61[_0x593aa0(0x176)]['delete'](_0x3ad8cc)):_0x3ad8cc=_0xc9ec61['txFrameCount']++;log[_0x593aa0(0x1cd)](_0x593aa0(0x1a9)+_0x5af2ec+_0x593aa0(0x215)+_0x3ad8cc);const _0x47ea1d=_0xc9ec61[_0x593aa0(0x18a)]['write'](_0x4ed576[_0x593aa0(0x207)](),{'at':_0x3ad8cc*_0xc9ec61[_0x593aa0(0x172)]});if(_0x47ea1d!==_0x4ed576[_0x593aa0(0x1c8)])throw new Error('write\x20error');const _0x4b9bbc=new FletcherChecksum()[_0x593aa0(0x213)](_0x4ed576)[_0x593aa0(0x173)]();_0xc9ec61['txPages'][_0x593aa0(0x1c9)](_0x5af2ec,{'frameIndex':_0x3ad8cc,'digest':_0x4b9bbc});}else _0xc9ec61[_0x593aa0(0x16c)][_0x593aa0(0x1af)](_0x4ed576[_0x593aa0(0x207)](),{'at':_0x46f8c2});return _0xc9ec61[_0x593aa0(0x20c)]=Math[_0x593aa0(0x154)](_0xc9ec61[_0x593aa0(0x20c)],_0x5af2ec),SQLITE_OK;}return _0xc9ec61['accessHandle'][_0x593aa0(0x1af)](_0x4ed576[_0x593aa0(0x207)](),{'at':_0x46f8c2}),SQLITE_OK;}catch(_0x1f97b4){return console[_0x593aa0(0x1b9)](_0x1f97b4),this['lastError']=_0x1f97b4,SQLITE_IOERR_WRITE;}}[_0x576745(0x1ef)](_0x43fa89,_0x3a2273){const _0x40fea7=_0x576745;try{const _0x452961=this[_0x40fea7(0x19d)]['get'](_0x43fa89);if(_0x452961[_0x40fea7(0x162)]&SQLITE_OPEN_MAIN_DB)return _0x452961['txPageCount']=Math[_0x40fea7(0x1a8)](_0x3a2273/_0x452961['pageSize']),SQLITE_OK;return _0x452961[_0x40fea7(0x16c)][_0x40fea7(0x15c)](_0x3a2273),SQLITE_OK;}catch(_0x5d0d2f){return console[_0x40fea7(0x1b9)](_0x5d0d2f),this[_0x40fea7(0x16d)]=_0x5d0d2f,SQLITE_IOERR_TRUNCATE;}}[_0x576745(0x156)](_0x5d7245,_0xd92ee5){const _0x491af5=_0x576745;try{const _0x2f4258=this[_0x491af5(0x19d)][_0x491af5(0x214)](_0x5d7245);if(_0x2f4258[_0x491af5(0x17c)])return SQLITE_OK;return _0x2f4258['accessHandle'][_0x491af5(0x1f3)](),SQLITE_OK;}catch(_0x409742){return console[_0x491af5(0x1b9)](_0x409742),this['lastError']=_0x409742,SQLITE_IOERR_FSYNC;}}[_0x576745(0x170)](_0x3572f0,_0xbcde03){const _0x14a328=_0x576745;try{const _0x33df22=this['mapIdToFile']['get'](_0x3572f0),_0x581520=_0x33df22[_0x14a328(0x162)]&SQLITE_OPEN_MAIN_DB?_0x33df22[_0x14a328(0x212)]*_0x33df22[_0x14a328(0x172)]:_0x33df22['accessHandle'][_0x14a328(0x189)]();return _0xbcde03[_0x14a328(0x1fb)](0x0,BigInt(_0x581520),!![]),SQLITE_OK;}catch(_0x59f707){return console[_0x14a328(0x1b9)](_0x59f707),this[_0x14a328(0x16d)]=_0x59f707,SQLITE_IOERR_FSTAT;}}async[_0x576745(0x1e6)](_0x50c272,_0x1547e3){const _0x35791a=_0x576745;try{const _0x5036d5=this[_0x35791a(0x19d)][_0x35791a(0x214)](_0x50c272);switch(_0x1547e3){case SQLITE_LOCK_SHARED:const _0x116968=_0x5036d5[_0x35791a(0x180)][_0x35791a(0x158)]('tx')['objectStore']('tx'),_0xe95d1e=_0x116968[_0x35791a(0x15a)](IDBKeyRange['lowerBound'](_0x5036d5[_0x35791a(0x17c)],!![])),_0x32e4ec=await idbp(_0xe95d1e);this.#updateState(_0x5036d5,_0x32e4ec),_0x5036d5['readLock']=_0x5036d5[_0x35791a(0x197)]['then'](()=>{const _0x1c8626=_0x35791a;return this.#lock(_0x5036d5[_0x1c8626(0x1d2)],_0x1c8626(0x19f)+_0x5036d5[_0x1c8626(0x17c)]+']',{'mode':_0x1c8626(0x1da)});});let _0x252fcd=![];_0x5036d5[_0x35791a(0x197)]['finally'](()=>_0x252fcd=!![]),(async function(){const _0x3c6b88=_0x35791a;while(!_0x252fcd){await idbp(_0x116968[_0x3c6b88(0x1d4)]([]));}}());break;case SQLITE_LOCK_RESERVED:_0x5036d5[_0x35791a(0x211)]=await this.#lock(_0x5036d5[_0x35791a(0x1d2)],'write');const _0xade633=_0x5036d5[_0x35791a(0x180)][_0x35791a(0x158)]('tx')['objectStore']('tx')[_0x35791a(0x206)](IDBKeyRange['lowerBound'](_0x5036d5[_0x35791a(0x17c)],!![]));if(await idbp(_0xade633))return _0x5036d5['writeLock'](),SQLITE_BUSY;break;case SQLITE_LOCK_EXCLUSIVE:_0x5036d5['txFrameCount']=_0x5036d5[_0x35791a(0x172)]?Math[_0x35791a(0x1a8)](_0x5036d5['walAccessHandle'][_0x35791a(0x189)]()/_0x5036d5[_0x35791a(0x172)]):0x0,log[_0x35791a(0x1cd)]('WAL\x20frame\x20count\x20'+_0x5036d5['txFrameCount']),_0x5036d5[_0x35791a(0x1d7)]=0x0;if(_0x5036d5[_0x35791a(0x1e7)]>0x0&&_0x5036d5[_0x35791a(0x1e7)]<_0x5036d5[_0x35791a(0x203)]['size']){const _0x5f526f=await navigator[_0x35791a(0x1e9)][_0x35791a(0x1ae)]();_0x5036d5[_0x35791a(0x1d7)]=[..._0x5f526f[_0x35791a(0x20f)],..._0x5f526f[_0x35791a(0x1c0)]][_0x35791a(0x18d)](_0x4c20f6=>_0x4c20f6[_0x35791a(0x1d8)]['startsWith'](this.#lockName(_0x5036d5[_0x35791a(0x1d2)],_0x35791a(0x1b1))))[_0x35791a(0x1b2)](_0x4380a1=>Number(_0x4380a1['name'][_0x35791a(0x1d1)](/\[(\d+)\]/)[0x1]))['sort']((_0x557841,_0x3bc552)=>_0x557841-_0x3bc552)[0x0];}break;}return SQLITE_OK;}catch(_0x3c8301){return console[_0x35791a(0x1b9)](_0x3c8301),this[_0x35791a(0x16d)]=_0x3c8301,SQLITE_IOERR_LOCK;}}async[_0x576745(0x1ab)](_0x16e3aa,_0xfaf9b0){const _0x96d779=_0x576745;try{const _0x39c1a4=this['mapIdToFile']['get'](_0x16e3aa);switch(_0xfaf9b0){case SQLITE_LOCK_SHARED:_0x39c1a4['writeLock']();break;case SQLITE_LOCK_NONE:_0x39c1a4[_0x96d779(0x197)][_0x96d779(0x208)](_0x16937f=>_0x16937f?.());break;}return SQLITE_OK;}catch(_0xb2e9ac){return console[_0x96d779(0x1b9)](_0xb2e9ac),this[_0x96d779(0x16d)]=_0xb2e9ac,SQLITE_IOERR_LOCK;}}async[_0x576745(0x16a)](_0x1534de,_0x2bf5de){const _0x2e7333=_0x576745;try{const _0x35de00=this['mapIdToFile'][_0x2e7333(0x214)](_0x1534de),_0x35c44e=await this.#lock(_0x35de00[_0x2e7333(0x1d2)],_0x2e7333(0x1af),{'ifAvailable':!![]});return _0x35c44e?(_0x2bf5de[_0x2e7333(0x216)](0x0,0x0,!![]),_0x35c44e()):_0x2bf5de[_0x2e7333(0x216)](0x0,0x1,!![]),SQLITE_OK;}catch(_0x225a23){return console[_0x2e7333(0x1b9)](_0x225a23),this[_0x2e7333(0x16d)]=_0x225a23,SQLITE_IOERR_LOCK;}}[_0x576745(0x19c)](_0x5d7de1,_0x1916de,_0x3b44c6){const _0x56a77d=_0x576745;try{const _0x5af65f=this['mapIdToFile'][_0x56a77d(0x214)](_0x5d7de1);switch(_0x1916de){case SQLITE_FCNTL_PRAGMA:const _0x3ac433=extractString(_0x3b44c6,0x4),_0x5c0afc=extractString(_0x3b44c6,0x8);log(_0x56a77d(0x1fd),_0x5af65f['path'],'PRAGMA',_0x3ac433,_0x5c0afc);const _0x38d877=_0x4d06ee=>{const _0x5896b=_0x56a77d,_0x37ef75=new TextEncoder()['encode'](_0x4d06ee),_0x19e5d1=this[_0x5896b(0x1cb)]['_sqlite3_malloc'](_0x37ef75[_0x5896b(0x1c8)]),_0x3e034a=this['_module'][_0x5896b(0x17a)][_0x5896b(0x207)](_0x19e5d1,_0x19e5d1+_0x37ef75[_0x5896b(0x1c8)]);return _0x3e034a[_0x5896b(0x1c9)](_0x37ef75),_0x3b44c6[_0x5896b(0x1a0)](0x0,_0x19e5d1,!![]),SQLITE_ERROR;};switch(_0x3ac433[_0x56a77d(0x200)]()){case _0x56a77d(0x15b):if(_0x5af65f[_0x56a77d(0x162)]&SQLITE_OPEN_MAIN_DB){if(_0x5c0afc&&_0x5af65f[_0x56a77d(0x172)]&&Number(_0x5c0afc)!==_0x5af65f['pageSize'])return SQLITE_ERROR;}break;case _0x56a77d(0x198):if(_0x5c0afc){const _0x253c8f=Number(_0x5c0afc);if(!isNaN(_0x253c8f))_0x5af65f[_0x56a77d(0x1e7)]=_0x253c8f;else return _0x38d877(_0x56a77d(0x1ac)),SQLITE_ERROR;}else return _0x38d877(_0x5af65f[_0x56a77d(0x1e7)]+'\x00'),SQLITE_OK;break;}break;case SQLITE_FCNTL_SYNC:log(_0x56a77d(0x1fd),_0x5af65f['path'],_0x56a77d(0x1db));_0x5af65f[_0x56a77d(0x174)]&&this.#txCommit(_0x5af65f);break;case SQLITE_FCNTL_BEGIN_ATOMIC_WRITE:log(_0x56a77d(0x1fd),_0x5af65f['path'],_0x56a77d(0x1bc));return SQLITE_OK;case SQLITE_FCNTL_COMMIT_ATOMIC_WRITE:log(_0x56a77d(0x1fd),_0x5af65f['path'],_0x56a77d(0x186)),this.#txCommit(_0x5af65f);return SQLITE_OK;case SQLITE_FCNTL_ROLLBACK_ATOMIC_WRITE:log(_0x56a77d(0x1fd),_0x5af65f['path'],_0x56a77d(0x196)),this.#txRollback(_0x5af65f);return SQLITE_OK;}}catch(_0x5e3b65){return console[_0x56a77d(0x1b9)](_0x5e3b65),this['lastError']=_0x5e3b65,SQLITE_IOERR;}return SQLITE_NOTFOUND;}[_0x576745(0x1d5)](_0x31bf1d){return 0x0|SQLITE_IOCAP_BATCH_ATOMIC|SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN;}[_0x576745(0x171)](_0x126681){const _0x4e1c9f=_0x576745;if(this[_0x4e1c9f(0x16d)]){console[_0x4e1c9f(0x1b9)](this[_0x4e1c9f(0x16d)]);const _0x351572=_0x126681['subarray'](0x0,_0x126681['byteLength']-0x1),{written:_0x14e3ba}=new TextEncoder()[_0x4e1c9f(0x1f5)](this[_0x4e1c9f(0x16d)][_0x4e1c9f(0x1be)],_0x351572);_0x126681[_0x14e3ba]=0x0;}return SQLITE_OK;}#lock(_0xf2a614,_0x19fc3f,_0x308526={}){return new Promise(_0x48413e=>{const _0x1d3f1b=_0x1665,_0x100924=this.#lockName(_0xf2a614,_0x19fc3f);navigator[_0x1d3f1b(0x1e9)][_0x1d3f1b(0x177)](_0x100924,_0x308526,_0x4c7ba5=>{const _0x10e59b=_0x1d3f1b;log[_0x10e59b(0x1cd)]('acquired\x20lock\x20\x27'+_0x100924+'\x27\x20'+JSON[_0x10e59b(0x1aa)](_0x308526));if(_0x4c7ba5)return new Promise(_0x455d47=>{_0x48413e(()=>{const _0x5531ba=_0x1665;log[_0x5531ba(0x1cd)]('releasing\x20lock\x20\x27'+_0x100924+'\x27'),_0x455d47();});});_0x48413e(null);});});}#lockName(_0x418f8e,_0x19e9ef){return _0x418f8e+':'+_0x19e9ef;}#txBegin(_0x5d81ec){const _0x5673a1=_0x576745;console[_0x5673a1(0x205)](!_0x5d81ec['txActive'],_0x5673a1(0x157)),_0x5d81ec[_0x5673a1(0x174)]=!![],_0x5d81ec[_0x5673a1(0x20c)]=_0x5d81ec[_0x5673a1(0x212)];}#txCommit(_0x58db6c){const _0x2cb7d8=_0x576745,_0x17a75b=_0x58db6c[_0x2cb7d8(0x180)][_0x2cb7d8(0x158)]('tx','readwrite',{'durability':_0x2cb7d8(0x160)})[_0x2cb7d8(0x218)]('tx');let _0x5ab145=_0x58db6c[_0x2cb7d8(0x203)][_0x2cb7d8(0x182)]?_0x58db6c[_0x2cb7d8(0x203)][_0x2cb7d8(0x1f9)]()[_0x2cb7d8(0x169)]()[_0x2cb7d8(0x1c1)]:0x0;const _0x3327f2=_0x58db6c[_0x2cb7d8(0x203)][_0x2cb7d8(0x182)]-(_0x58db6c[_0x2cb7d8(0x17c)]-_0x58db6c[_0x2cb7d8(0x1d7)]+0x1);if(_0x58db6c[_0x2cb7d8(0x1e7)]>0x0&&_0x58db6c[_0x2cb7d8(0x1e7)]<=_0x3327f2){const _0xf17058=[];for(const [_0x5caf5c,_0x11f6f9]of _0x58db6c[_0x2cb7d8(0x203)]){_0x5ab145=_0x5caf5c;if(_0x5caf5c>=_0x58db6c[_0x2cb7d8(0x1d7)])break;_0xf17058['push'](..._0x11f6f9);}const _0x70cb5c=new Set();while(_0xf17058[_0x2cb7d8(0x152)]){const [_0x51a1fe,_0x54afa3]=_0xf17058[_0x2cb7d8(0x1ed)]();if(!_0x70cb5c[_0x2cb7d8(0x1ea)](_0x51a1fe)){log[_0x2cb7d8(0x1cd)](_0x2cb7d8(0x1c5)+_0x51a1fe+_0x2cb7d8(0x164)+_0x54afa3);const _0x1acd78=new Uint8Array(_0x58db6c[_0x2cb7d8(0x172)]);_0x58db6c[_0x2cb7d8(0x18a)][_0x2cb7d8(0x1b1)](_0x1acd78,{'at':_0x54afa3*_0x58db6c[_0x2cb7d8(0x172)]}),_0x58db6c['accessHandle']['write'](_0x1acd78,{'at':(_0x51a1fe-0x1)*_0x58db6c[_0x2cb7d8(0x172)]}),_0x70cb5c[_0x2cb7d8(0x183)](_0x51a1fe);}}_0x70cb5c['size']&&(_0x58db6c[_0x2cb7d8(0x16c)]['flush'](),_0x17a75b[_0x2cb7d8(0x188)](IDBKeyRange[_0x2cb7d8(0x1ec)](_0x58db6c[_0x2cb7d8(0x1d7)],!![])));}const _0x34c114={'id':_0x58db6c[_0x2cb7d8(0x17c)]+0x1,'n':_0x58db6c[_0x2cb7d8(0x20c)],'s':_0x5ab145,'p':[..._0x58db6c[_0x2cb7d8(0x217)]]['map'](([_0x555606,{frameIndex:_0x399cf2,digest:_0x27ca0e}])=>[_0x555606,_0x399cf2,_0x27ca0e])};_0x17a75b[_0x2cb7d8(0x18c)](_0x34c114),_0x17a75b['transaction'][_0x2cb7d8(0x1fc)](),_0x58db6c['txPageCount']=0x0,_0x58db6c[_0x2cb7d8(0x217)][_0x2cb7d8(0x175)](),_0x58db6c[_0x2cb7d8(0x174)]=![],_0x58db6c[_0x2cb7d8(0x1d7)]=_0x58db6c[_0x2cb7d8(0x17c)],this.#updateState(_0x58db6c,[_0x34c114]);}#txRollback(_0x1a6cd9){const _0x598086=_0x576745;for(const [_0x31e923,{frameIndex:_0x53da54}]of _0x1a6cd9[_0x598086(0x217)]){log['debug'](_0x598086(0x1bd)+_0x53da54+_0x598086(0x1d3)+_0x31e923),_0x1a6cd9[_0x598086(0x176)][_0x598086(0x183)](_0x53da54);}_0x1a6cd9['txPageCount']=0x0,_0x1a6cd9[_0x598086(0x217)][_0x598086(0x175)](),_0x1a6cd9['txActive']=![];}#verifyFrames(_0x1abfe3){return new Promise((_0x521fad,_0x53f9db)=>{const _0x123a3b=_0x1665,_0x41bc69=_0x1abfe3['walMetadata'][_0x123a3b(0x158)]('tx','readwrite')['objectStore']('tx'),_0x4475ca=_0x41bc69['openCursor']();_0x4475ca[_0x123a3b(0x1b8)]=()=>{const _0x38aa08=_0x123a3b;try{const _0x526442=_0x4475ca[_0x38aa08(0x17b)];if(_0x526442){const _0x1953c8=_0x526442[_0x38aa08(0x1c1)];for(const [_0x1fb6bd,_0x80d14b,_0x13efae]of _0x1953c8['p']){const _0x48da4a=new Uint8Array(_0x1abfe3[_0x38aa08(0x172)]);_0x1abfe3['walAccessHandle']['read'](_0x48da4a,{'at':_0x80d14b*_0x1abfe3[_0x38aa08(0x172)]});const _0x11eb47=new FletcherChecksum()[_0x38aa08(0x213)](_0x48da4a)['digest']();if(_0x11eb47[_0x38aa08(0x18b)]((_0x449773,_0x156b47)=>_0x449773!==_0x13efae[_0x156b47]))return console[_0x38aa08(0x193)](_0x38aa08(0x1ee)+_0x1953c8['id']),idbp(_0x41bc69[_0x38aa08(0x188)](IDBKeyRange['lowerBound'](_0x1953c8['id']))),_0x521fad();}_0x526442['continue']();}else _0x521fad();}catch(_0x17a05c){_0x53f9db(_0x17a05c);}},_0x4475ca['onerror']=()=>_0x53f9db(_0x4475ca[_0x123a3b(0x1b9)]);});}#checkpointFull(_0x15774f){return new Promise((_0x16ae19,_0x45e4d3)=>{const _0x2e989f=_0x1665;let _0x22c79b;const _0x50885e=new Set(),_0x480bda=_0x15774f['walMetadata'][_0x2e989f(0x158)]('tx','readwrite')[_0x2e989f(0x218)]('tx'),_0x255903=_0x480bda[_0x2e989f(0x20b)](null,_0x2e989f(0x1fa));_0x255903[_0x2e989f(0x1b8)]=()=>{const _0x2846b8=_0x2e989f,_0x10e4bc=_0x255903['result'];if(_0x10e4bc){const _0x8c7548=_0x10e4bc[_0x2846b8(0x1c1)];_0x22c79b=_0x22c79b??_0x8c7548;for(const [_0x5a572a,_0x10f51a,_0x1c6e4d]of _0x8c7548['p']){if(!_0x50885e[_0x2846b8(0x1ea)](_0x5a572a)){log['debug'](_0x2846b8(0x1c5)+_0x5a572a+_0x2846b8(0x164)+_0x10f51a);const _0x4d38ca=new Uint8Array(_0x15774f[_0x2846b8(0x172)]);_0x15774f[_0x2846b8(0x18a)][_0x2846b8(0x1b1)](_0x4d38ca,{'at':_0x10f51a*_0x15774f[_0x2846b8(0x172)]}),_0x15774f[_0x2846b8(0x16c)][_0x2846b8(0x1af)](_0x4d38ca,{'at':(_0x5a572a-0x1)*_0x15774f[_0x2846b8(0x172)]}),_0x50885e['add'](_0x5a572a);}}_0x10e4bc['continue']();}else _0x15774f['accessHandle'][_0x2846b8(0x1f3)](),_0x15774f['walAccessHandle']['truncate'](0x0),idbp(_0x480bda[_0x2846b8(0x175)]()),_0x22c79b&&(_0x22c79b['s']=_0x22c79b['id'],_0x22c79b['p']=[],idbp(_0x480bda[_0x2846b8(0x183)](_0x22c79b))),_0x16ae19();},_0x255903[_0x2e989f(0x184)]=()=>_0x45e4d3(_0x255903[_0x2e989f(0x1b9)]);});}#updateState(_0x51e325,_0x166f03){const _0x193103=_0x576745,_0x11a1bc=_0x166f03['at'](-0x1);if(_0x11a1bc){_0x51e325[_0x193103(0x17c)]=_0x11a1bc['id'],_0x51e325[_0x193103(0x212)]=_0x11a1bc['n']??0x0,log[_0x193103(0x1cd)](_0x193103(0x1c7)+_0x11a1bc['s']);let _0x3ab477=![];for(const [_0x3f91fd,_0x20ef24]of _0x51e325[_0x193103(0x203)]){if(_0x3f91fd>=(_0x11a1bc['s']??0x0))break;for(const [_0x32d1a7,_0x288d6a]of _0x20ef24){log[_0x193103(0x1cd)](_0x193103(0x1d9)+_0x32d1a7+_0x193103(0x164)+_0x288d6a+_0x193103(0x1a2)),_0x51e325[_0x193103(0x17e)][_0x193103(0x214)](_0x32d1a7)===_0x288d6a&&_0x51e325[_0x193103(0x17e)]['delete'](_0x32d1a7),_0x51e325[_0x193103(0x176)][_0x193103(0x183)](_0x288d6a);}_0x51e325['mapTxToPages'][_0x193103(0x1ea)](_0x3f91fd)?(_0x51e325[_0x193103(0x203)][_0x193103(0x188)](_0x3f91fd),_0x3ab477=![]):_0x3ab477=!![];}if(_0x3ab477){const _0x1055c8=_0x51e325[_0x193103(0x172)]?Math[_0x193103(0x1a8)](_0x51e325[_0x193103(0x18a)]['getSize']()/_0x51e325[_0x193103(0x172)]):0x0;_0x51e325['availableFrames']=new Set(Array[_0x193103(0x161)]({'length':_0x1055c8},(_0x41e148,_0x57755b)=>_0x57755b));}}for(const _0x16f31d of _0x166f03){log[_0x193103(0x1cd)](_0x193103(0x155)+_0x16f31d['id']);const _0x5d7fba=[];for(const [_0x5136f0,_0x31f203]of _0x16f31d['p']){log['debug'](_0x193103(0x1a4)+_0x5136f0+_0x193103(0x1b7)+_0x31f203+_0x193103(0x159)),_0x51e325[_0x193103(0x17e)]['set'](_0x5136f0,_0x31f203),_0x51e325[_0x193103(0x176)][_0x193103(0x188)](_0x31f203),_0x5d7fba[_0x193103(0x18e)]([_0x5136f0,_0x31f203]);}_0x51e325[_0x193103(0x203)][_0x193103(0x1c9)](_0x16f31d['id'],_0x5d7fba);}console[_0x193103(0x178)](_0x51e325);}};function idbp(_0x8a217a){return new Promise((_0x1eeaa4,_0x41c0bd)=>{const _0xe74713=_0x1665;_0x8a217a[_0xe74713(0x1b8)]=()=>_0x1eeaa4(_0x8a217a[_0xe74713(0x17b)]),_0x8a217a[_0xe74713(0x184)]=()=>_0x41c0bd(_0x8a217a[_0xe74713(0x1b9)]);});}function extractString(_0x45cd28,_0x16f12e){const _0x3cc7e7=_0x576745,_0x7cf3df=_0x45cd28['getUint32'](_0x16f12e,!![]);if(_0x7cf3df){const _0x1cf212=new Uint8Array(_0x45cd28['buffer'],_0x7cf3df);return new TextDecoder()[_0x3cc7e7(0x15e)](_0x1cf212['subarray'](0x0,_0x1cf212[_0x3cc7e7(0x16e)](0x0)));}return null;}var FletcherChecksum=class{['h1']=0x0;['h2']=0x0;[_0x576745(0x213)]=((()=>{return data=>{for(const value of data){this['h1']=(this['h1']+value)%0xffffffff,this['h2']=(this['h2']+this['h1'])%0xffffffff;}return this;};})());[_0x576745(0x173)](){return new Uint32Array([this['h1'],this['h2']]);}};export{FLOOR};