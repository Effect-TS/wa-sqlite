const _0xb66ba5=_0x4fb6;(function(_0x3ef124,_0x4f3a24){const _0x5f080e=_0x4fb6,_0x5e42e7=_0x3ef124();while(!![]){try{const _0x7cfa8e=parseInt(_0x5f080e(0x1c1))/0x1+parseInt(_0x5f080e(0x1b0))/0x2*(-parseInt(_0x5f080e(0x167))/0x3)+-parseInt(_0x5f080e(0x15c))/0x4*(parseInt(_0x5f080e(0x17e))/0x5)+-parseInt(_0x5f080e(0x162))/0x6+-parseInt(_0x5f080e(0x11f))/0x7+-parseInt(_0x5f080e(0x1c2))/0x8+parseInt(_0x5f080e(0x1de))/0x9;if(_0x7cfa8e===_0x4f3a24)break;else _0x5e42e7['push'](_0x5e42e7['shift']());}catch(_0x49e6d7){_0x5e42e7['push'](_0x5e42e7['shift']());}}}(_0x214a,0x2a92b));var SQLITE_OK=0x0,SQLITE_ERROR=0x1,SQLITE_BUSY=0x5,SQLITE_IOERR=0xa,SQLITE_NOTFOUND=0xc,SQLITE_CANTOPEN=0xe,SQLITE_IOERR_ACCESS=0xd0a,SQLITE_IOERR_CLOSE=0x100a,SQLITE_IOERR_DELETE=0xa0a,SQLITE_IOERR_FSTAT=0x70a,SQLITE_IOERR_FSYNC=0x40a,SQLITE_IOERR_LOCK=0xf0a,SQLITE_IOERR_READ=0x10a,SQLITE_IOERR_SHORT_READ=0x20a,SQLITE_IOERR_TRUNCATE=0x60a,SQLITE_IOERR_WRITE=0x30a,SQLITE_OPEN_CREATE=0x4,SQLITE_OPEN_DELETEONCLOSE=0x8,SQLITE_OPEN_URI=0x40,SQLITE_OPEN_MAIN_DB=0x100,SQLITE_OPEN_TEMP_DB=0x200,SQLITE_OPEN_TRANSIENT_DB=0x400,SQLITE_OPEN_MAIN_JOURNAL=0x800,SQLITE_OPEN_TEMP_JOURNAL=0x1000,SQLITE_OPEN_SUBJOURNAL=0x2000,SQLITE_OPEN_SUPER_JOURNAL=0x4000,SQLITE_OPEN_WAL=0x80000,SQLITE_LOCK_NONE=0x0,SQLITE_LOCK_SHARED=0x1,SQLITE_LOCK_RESERVED=0x2,SQLITE_LOCK_EXCLUSIVE=0x4,SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN=0x800,SQLITE_IOCAP_BATCH_ATOMIC=0x4000,SQLITE_FCNTL_PRAGMA=0xe,SQLITE_FCNTL_SYNC=0x15,SQLITE_FCNTL_BEGIN_ATOMIC_WRITE=0x1f,SQLITE_FCNTL_COMMIT_ATOMIC_WRITE=0x20,SQLITE_FCNTL_ROLLBACK_ATOMIC_WRITE=0x21,DEFAULT_SECTOR_SIZE=0x200,Base=class{[_0xb66ba5(0x1ae)];[_0xb66ba5(0x169)]=0x40;['_module'];constructor(_0x1fb1bc,_0x30c5d0){const _0x4aa166=_0xb66ba5;this[_0x4aa166(0x1ae)]=_0x1fb1bc,this[_0x4aa166(0x1c4)]=_0x30c5d0;}async['isReady'](){}[_0xb66ba5(0x1bb)](_0x4457f8){return![];}[_0xb66ba5(0x1a6)](_0x5eeee4,_0x3403c5,_0x5c1b12,_0x3d64c8,_0x25dae9){return SQLITE_CANTOPEN;}[_0xb66ba5(0x1c0)](_0x29241f,_0x9e326a,_0x295424){return SQLITE_OK;}[_0xb66ba5(0x1a0)](_0x18c6da,_0x52f162,_0x120fbb,_0x47dad2){return SQLITE_OK;}[_0xb66ba5(0x1b7)](_0x1cd76f,_0x44e25b,_0x189026,_0x21fe5d){return SQLITE_OK;}['xGetLastError'](_0x36a9ea,_0x21c42a,_0xffbeae){return SQLITE_OK;}[_0xb66ba5(0x120)](_0x29f400){return SQLITE_OK;}['xRead'](_0x2cba4f,_0x1b5cad,_0x5a7fbf,_0x417536,_0x47e2ad){return SQLITE_OK;}[_0xb66ba5(0x129)](_0x528fe6,_0x361c31,_0x587279,_0x4f6480,_0x25de35){return SQLITE_OK;}['xTruncate'](_0x34a8bb,_0x14d018,_0xeb69dd){return SQLITE_OK;}[_0xb66ba5(0x16e)](_0x5e50a5,_0x473123){return SQLITE_OK;}[_0xb66ba5(0x18d)](_0x50bac3,_0x235020){return SQLITE_OK;}[_0xb66ba5(0x15e)](_0x40fbb4,_0x17ea4e){return SQLITE_OK;}[_0xb66ba5(0x16d)](_0x5a8d9a,_0x5b4b5e){return SQLITE_OK;}[_0xb66ba5(0x1c6)](_0x4df379,_0x463795){return SQLITE_OK;}[_0xb66ba5(0x1d3)](_0x27277c,_0x2f7457,_0x2d132f){return SQLITE_NOTFOUND;}[_0xb66ba5(0x148)](_0x54003d){return DEFAULT_SECTOR_SIZE;}['xDeviceCharacteristics'](_0x182b4d){return 0x0;}},FILE_TYPE_MASK=[SQLITE_OPEN_MAIN_DB,SQLITE_OPEN_MAIN_JOURNAL,SQLITE_OPEN_TEMP_DB,SQLITE_OPEN_TEMP_JOURNAL,SQLITE_OPEN_TRANSIENT_DB,SQLITE_OPEN_SUBJOURNAL,SQLITE_OPEN_SUPER_JOURNAL,SQLITE_OPEN_WAL][_0xb66ba5(0x1b6)]((_0x3de923,_0x29a207)=>_0x3de923|_0x29a207),AsyncFunction=Object['getPrototypeOf'](async function(){})['constructor'],FacadeVFS=class extends Base{constructor(_0x402711,_0x53bdee){super(_0x402711,_0x53bdee);}[_0xb66ba5(0x1bb)](_0xe6c5df){const _0x7996d2=_0xb66ba5,_0x3801b7='j'+_0xe6c5df[_0x7996d2(0x197)](0x1);return this[_0x3801b7]instanceof AsyncFunction;}[_0xb66ba5(0x1ab)](_0x4277ce){const _0x5bdbc4=_0xb66ba5;throw new Error(_0x5bdbc4(0x181));}[_0xb66ba5(0x168)](_0x1cb68d,_0x206c2f,_0x2f276e,_0x171c87){return SQLITE_CANTOPEN;}['jDelete'](_0x191aa2,_0x91e5c){return SQLITE_OK;}['jAccess'](_0x1141ff,_0xb1d326,_0x475bfe){return SQLITE_OK;}[_0xb66ba5(0x1cb)](_0x1f25eb,_0x2fad52){const _0x383e95=_0xb66ba5,{read:_0x26c1bf,written:_0x5905fa}=new TextEncoder()['encodeInto'](_0x1f25eb,_0x2fad52);if(_0x26c1bf<_0x1f25eb[_0x383e95(0x1c9)])return SQLITE_IOERR;if(_0x5905fa>=_0x2fad52[_0x383e95(0x1c9)])return SQLITE_IOERR;return _0x2fad52[_0x5905fa]=0x0,SQLITE_OK;}[_0xb66ba5(0x198)](_0x464e25){return SQLITE_OK;}[_0xb66ba5(0x13f)](_0x232beb){return SQLITE_OK;}[_0xb66ba5(0x1af)](_0x3c9d0d,_0x47d9f0,_0x334360){const _0x5bdaf3=_0xb66ba5;return _0x47d9f0[_0x5bdaf3(0x1ce)](0x0),SQLITE_IOERR_SHORT_READ;}['jWrite'](_0x545c9d,_0x452ace,_0x4a0794){return SQLITE_IOERR_WRITE;}[_0xb66ba5(0x17d)](_0x594b11,_0x178983){return SQLITE_OK;}[_0xb66ba5(0x156)](_0x290fb2,_0x5af57c){return SQLITE_OK;}['jFileSize'](_0x3fb77f,_0x3fc240){return SQLITE_OK;}[_0xb66ba5(0x185)](_0x2e9a3b,_0x270a01){return SQLITE_OK;}['jUnlock'](_0x115352,_0x5824ca){return SQLITE_OK;}['jCheckReservedLock'](_0x4a3e45,_0x2810bf){const _0x3993e5=_0xb66ba5;return _0x2810bf[_0x3993e5(0x1dd)](0x0,0x0,!![]),SQLITE_OK;}[_0xb66ba5(0x1b8)](_0x59d072,_0x215cf2,_0x5288b6){return SQLITE_NOTFOUND;}[_0xb66ba5(0x139)](_0x43b740){const _0x27fc2a=_0xb66ba5;return super[_0x27fc2a(0x148)](_0x43b740);}['jDeviceCharacteristics'](_0x5d0189){return 0x0;}[_0xb66ba5(0x1a6)](_0x5260bb,_0x210c00,_0x5e2c10,_0x54f5db,_0x5c1f53){const _0xf6f040=_0xb66ba5,_0xdfc462=this.#decodeFilename(_0x210c00,_0x54f5db),_0x1a3469=this.#makeTypedDataView(_0xf6f040(0x166),_0x5c1f53);return this['log']?.(_0xf6f040(0x168),_0xdfc462,_0x5e2c10,'0x'+_0x54f5db[_0xf6f040(0x188)](0x10)),this[_0xf6f040(0x168)](_0xdfc462,_0x5e2c10,_0x54f5db,_0x1a3469);}['xDelete'](_0x43e3e4,_0xcd088f,_0x132fd8){const _0x102a91=_0xb66ba5,_0x42a4d0=this['_module'][_0x102a91(0x1b5)](_0xcd088f);return this[_0x102a91(0x18f)]?.(_0x102a91(0x19e),_0x42a4d0,_0x132fd8),this['jDelete'](_0x42a4d0,_0x132fd8);}[_0xb66ba5(0x1a0)](_0x152ab6,_0x2e1d6b,_0xa03bf7,_0x850f52){const _0x2b8897=_0xb66ba5,_0x5086a4=this[_0x2b8897(0x1c4)][_0x2b8897(0x1b5)](_0x2e1d6b),_0x5e0c0d=this.#makeTypedDataView(_0x2b8897(0x166),_0x850f52);return this[_0x2b8897(0x18f)]?.(_0x2b8897(0x1bc),_0x5086a4,_0xa03bf7),this[_0x2b8897(0x1bc)](_0x5086a4,_0xa03bf7,_0x5e0c0d);}[_0xb66ba5(0x1b7)](_0x274b02,_0x33c5e0,_0x1c8bcd,_0x3e19f3){const _0x668d4f=_0xb66ba5,_0x261035=this[_0x668d4f(0x1c4)]['UTF8ToString'](_0x33c5e0),_0x525e1d=this[_0x668d4f(0x1c4)][_0x668d4f(0x18a)]['subarray'](_0x3e19f3,_0x3e19f3+_0x1c8bcd);return this[_0x668d4f(0x18f)]?.(_0x668d4f(0x1cb),_0x261035,_0x1c8bcd),this['jFullPathname'](_0x261035,_0x525e1d);}['xGetLastError'](_0x142f5a,_0x37090e,_0xc96a78){const _0x569856=_0xb66ba5,_0x1b7d42=this[_0x569856(0x1c4)][_0x569856(0x18a)][_0x569856(0x18b)](_0xc96a78,_0xc96a78+_0x37090e);return this[_0x569856(0x18f)]?.(_0x569856(0x198),_0x37090e),this[_0x569856(0x198)](_0x1b7d42);}[_0xb66ba5(0x120)](_0x26f417){const _0x261375=_0xb66ba5;return this[_0x261375(0x18f)]?.(_0x261375(0x13f),_0x26f417),this[_0x261375(0x13f)](_0x26f417);}['xRead'](_0x215bd7,_0x1aac24,_0x6c78ea,_0x3908b8,_0x195c3e){const _0x51126b=_0xb66ba5,_0xf52733=this.#makeDataArray(_0x1aac24,_0x6c78ea),_0x2f266c=delegalize(_0x3908b8,_0x195c3e);return this['log']?.('jRead',_0x215bd7,_0x6c78ea,_0x2f266c),this[_0x51126b(0x1af)](_0x215bd7,_0xf52733,_0x2f266c);}[_0xb66ba5(0x129)](_0x36ddd4,_0x28a3e8,_0x4e0bf6,_0x205015,_0x135421){const _0x28f907=_0xb66ba5,_0x26ac5f=this.#makeDataArray(_0x28a3e8,_0x4e0bf6),_0x428ba3=delegalize(_0x205015,_0x135421);return this['log']?.(_0x28f907(0x157),_0x36ddd4,_0x26ac5f,_0x428ba3),this[_0x28f907(0x157)](_0x36ddd4,_0x26ac5f,_0x428ba3);}[_0xb66ba5(0x1b4)](_0x47d23d,_0x58936d,_0x28ddf7){const _0x39b6f7=_0xb66ba5,_0x16e6cf=delegalize(_0x58936d,_0x28ddf7);return this[_0x39b6f7(0x18f)]?.(_0x39b6f7(0x17d),_0x47d23d,_0x16e6cf),this[_0x39b6f7(0x17d)](_0x47d23d,_0x16e6cf);}[_0xb66ba5(0x16e)](_0x52eca9,_0x8a85c7){const _0xe48a15=_0xb66ba5;return this[_0xe48a15(0x18f)]?.(_0xe48a15(0x156),_0x52eca9,_0x8a85c7),this['jSync'](_0x52eca9,_0x8a85c7);}[_0xb66ba5(0x18d)](_0x407286,_0x1c779d){const _0x51eca0=_0xb66ba5,_0xf5041b=this.#makeTypedDataView(_0x51eca0(0x124),_0x1c779d);return this[_0x51eca0(0x18f)]?.('jFileSize',_0x407286),this[_0x51eca0(0x12a)](_0x407286,_0xf5041b);}[_0xb66ba5(0x15e)](_0x4d1041,_0x40b894){const _0x1d6d4d=_0xb66ba5;return this[_0x1d6d4d(0x18f)]?.('jLock',_0x4d1041,_0x40b894),this['jLock'](_0x4d1041,_0x40b894);}[_0xb66ba5(0x16d)](_0x6d268f,_0x2336df){const _0x579644=_0xb66ba5;return this[_0x579644(0x18f)]?.('jUnlock',_0x6d268f,_0x2336df),this[_0x579644(0x13c)](_0x6d268f,_0x2336df);}[_0xb66ba5(0x1c6)](_0x16f5c0,_0x31ceca){const _0x522d74=_0xb66ba5,_0x29bc6=this.#makeTypedDataView(_0x522d74(0x166),_0x31ceca);return this[_0x522d74(0x18f)]?.(_0x522d74(0x1cc),_0x16f5c0),this['jCheckReservedLock'](_0x16f5c0,_0x29bc6);}[_0xb66ba5(0x1d3)](_0x4e7b8a,_0xfb03f1,_0xdcc242){const _0x5da708=_0xb66ba5,_0x39fa21=new DataView(this[_0x5da708(0x1c4)][_0x5da708(0x18a)]['buffer'],this[_0x5da708(0x1c4)][_0x5da708(0x18a)][_0x5da708(0x13e)]+_0xdcc242);return this[_0x5da708(0x18f)]?.('jFileControl',_0x4e7b8a,_0xfb03f1,_0x39fa21),this[_0x5da708(0x1b8)](_0x4e7b8a,_0xfb03f1,_0x39fa21);}['xSectorSize'](_0x1bcfaa){const _0x1cb3b4=_0xb66ba5;return this[_0x1cb3b4(0x18f)]?.('jSectorSize',_0x1bcfaa),this['jSectorSize'](_0x1bcfaa);}['xDeviceCharacteristics'](_0x368639){const _0x28eaed=_0xb66ba5;return this[_0x28eaed(0x18f)]?.('jDeviceCharacteristics',_0x368639),this['jDeviceCharacteristics'](_0x368639);}#makeTypedDataView(_0x1dd580,_0x10c131){const _0x221b4b=_0xb66ba5,_0x20f6bf=_0x1dd580==='Int32'?0x4:0x8,_0x4fc60e=_0x221b4b(0x154)+_0x1dd580,_0x140b8e='set'+_0x1dd580,_0x3aed17=()=>new DataView(this[_0x221b4b(0x1c4)][_0x221b4b(0x18a)][_0x221b4b(0x183)],this[_0x221b4b(0x1c4)][_0x221b4b(0x18a)][_0x221b4b(0x13e)]+_0x10c131,_0x20f6bf);let _0x3ca055=_0x3aed17();return new Proxy(_0x3ca055,{'get'(_0x2cd4b8,_0x613146){const _0x304631=_0x221b4b;_0x3ca055[_0x304631(0x183)][_0x304631(0x176)]===0x0&&(_0x3ca055=_0x3aed17());if(_0x613146===_0x4fc60e)return function(_0x26a121,_0x34aada){const _0x23d631=_0x304631;if(!_0x34aada)throw new Error(_0x23d631(0x19c));return _0x3ca055[_0x613146](_0x26a121,_0x34aada);};if(_0x613146===_0x140b8e)return function(_0xd97979,_0x37c7d9,_0x11d2d0){const _0x2da015=_0x304631;if(!_0x11d2d0)throw new Error(_0x2da015(0x19c));return _0x3ca055[_0x613146](_0xd97979,_0x37c7d9,_0x11d2d0);};if(typeof _0x613146===_0x304631(0x12c)&&_0x613146[_0x304631(0x133)](/^(get)|(set)/))throw new Error(_0x304631(0x135));const _0x46ec6c=_0x3ca055[_0x613146];return typeof _0x46ec6c===_0x304631(0x187)?_0x46ec6c[_0x304631(0x1ad)](_0x3ca055):_0x46ec6c;}});}#makeDataArray(_0x1d3a77,_0x182344){const _0x61b6f9=_0xb66ba5;let _0x22bc4e=this[_0x61b6f9(0x1c4)][_0x61b6f9(0x18a)]['subarray'](_0x1d3a77,_0x1d3a77+_0x182344);return new Proxy(_0x22bc4e,{'get':(_0x422c5c,_0x2886da,_0x3282e5)=>{const _0x43ca18=_0x61b6f9;_0x22bc4e[_0x43ca18(0x183)]['byteLength']===0x0&&(_0x22bc4e=this[_0x43ca18(0x1c4)][_0x43ca18(0x18a)][_0x43ca18(0x18b)](_0x1d3a77,_0x1d3a77+_0x182344));const _0x30d85b=_0x22bc4e[_0x2886da];return typeof _0x30d85b===_0x43ca18(0x187)?_0x30d85b[_0x43ca18(0x1ad)](_0x22bc4e):_0x30d85b;}});}#decodeFilename(_0x293ae0,_0x3fbac7){const _0x4a41ec=_0xb66ba5;if(_0x3fbac7&SQLITE_OPEN_URI){let _0x47d8b2=_0x293ae0,_0xbf0bb1=0x1;const _0x2014ba=[];while(_0xbf0bb1){const _0x25870f=this[_0x4a41ec(0x1c4)]['HEAPU8'][_0x47d8b2++];if(_0x25870f)_0x2014ba[_0x4a41ec(0x165)](_0x25870f);else{if(!this[_0x4a41ec(0x1c4)][_0x4a41ec(0x18a)][_0x47d8b2])_0xbf0bb1=null;switch(_0xbf0bb1){case 0x1:_0x2014ba[_0x4a41ec(0x165)]('?'[_0x4a41ec(0x1d6)](0x0)),_0xbf0bb1=0x2;break;case 0x2:_0x2014ba[_0x4a41ec(0x165)]('='[_0x4a41ec(0x1d6)](0x0)),_0xbf0bb1=0x3;break;case 0x3:_0x2014ba['push']('&'[_0x4a41ec(0x1d6)](0x0)),_0xbf0bb1=0x2;break;}}}return new TextDecoder()[_0x4a41ec(0x12b)](new Uint8Array(_0x2014ba));}return _0x293ae0?this[_0x4a41ec(0x1c4)][_0x4a41ec(0x1b5)](_0x293ae0):null;}};function delegalize(_0x32a8df,_0x366a2f){return _0x366a2f*0x100000000+_0x32a8df+(_0x32a8df<0x0?0x2**0x20:0x0);}var DEFAULT_AUTO_CHECKPOINT=0x1;function log(..._0x39e874){}function _0x214a(){const _0x1a9820=['error','HEAPU8','subarray','delete','xFileSize','getSize','log','storage','create','size','objectStore','COMMIT_ATOMIC_WRITE','\x20from\x20WAL','readwrite','slice','jGetLastError','flush','values','locks','must\x20be\x20little\x20endian','map','jDelete','update','xAccess','page\x20size\x20is\x20','isReady','assert','mapIdToFile','\x20to\x20frame\x20','xOpen','getFileHandle','autoCheckpoint','trunc','digest','getLockName','has','bind','name','jRead','4534YJzfME','onsuccess','\x20for\x20page\x20','transaction','xTruncate','UTF8ToString','reduce','xFullPathname','jFileControl','lastError','getAll','hasAsyncMethod','jAccess','mapPageToFrame','resolve','gate','xDelete','325772LIZRKN','2324808JSSnSY','txPageCount','_module','Checksum\x20error\x20on\x20tx\x20','xCheckReservedLock','getDirectory','setUint32','length','pop','jFullPathname','jCheckReservedLock','stringify','fill','pathname','pageSize','walAccessHandle','oldestTxInUse','xFileControl','walMetadata','next','charCodeAt','commit','txPages','write','getKey','createSyncAccessHandle','lowerBound','setInt32','7840485hJGlqp','localTxId','txFrameCount','query','open','openLock','2075318DqSPJL','xClose','then','upperBound','clear','BigInt64','PRAGMA','releasing\x20lock\x20\x27','jDeviceCharacteristics','createObjectStore','xWrite','jFileSize','decode','string','close','\x20frame\x20','Checkpoint\x20page\x20','prev','from','warn','match','sort','invalid\x20type','split','debug','readLock','jSectorSize','accessHandle','set','jUnlock','Adding\x20tx\x20','byteOffset','jClose','readwrite-unsafe','keys','put','Mapping\x20page\x20','result','value','count','ROLLBACK_ATOMIC_WRITE','xSectorSize','continue','write\x20page\x20','filter','max','path','startsWith','writeLock','pageCount','read','relaxed','WAL\x20frame\x20count\x20','get','openCursor','jSync','jWrite','acquired\x20lock\x20\x27','add','NotFoundError','shared','844oBhPwb','SYNC','xLock','transaction\x20already\x20active','held','Removing\x20page\x20','1917630RCulUK','page_size','oncomplete','push','Int32','33SKPIxU','jOpen','mxPathname','random','-floor','request','xUnlock','xSync','frameIndex','getUint32','toLowerCase','indexOf','truncate','getDirectoryHandle','onerror','byteLength','read[','removeEntry','some','txActive','invalid\x20frame','read\x20page\x20','jTruncate','2155BMxrkg','_sqlite3_malloc','flags','unimplemented','encodeInto','buffer','mapTxToPages','jLock','availableFrames','function','toString'];_0x214a=function(){return _0x1a9820;};return _0x214a();}log[_0xb66ba5(0x137)]=function(..._0x16245e){};var File=class{[_0xb66ba5(0x14d)];[_0xb66ba5(0x180)];['accessHandle'];[_0xb66ba5(0x1d1)];[_0xb66ba5(0x1d4)];[_0xb66ba5(0x1d0)];[_0xb66ba5(0x150)];[_0xb66ba5(0x1bd)];['mapTxToPages'];[_0xb66ba5(0x186)];[_0xb66ba5(0x1df)];[_0xb66ba5(0x1a8)];[_0xb66ba5(0x17a)];[_0xb66ba5(0x1c3)];[_0xb66ba5(0x1e0)];['txPages'];[_0xb66ba5(0x11e)];[_0xb66ba5(0x138)];[_0xb66ba5(0x14f)];[_0xb66ba5(0x1d2)];constructor(_0x46353d,_0x1e71d6,_0x1ee3e3){const _0x2093a7=_0xb66ba5;this[_0x2093a7(0x14d)]=_0x46353d,this[_0x2093a7(0x180)]=_0x1e71d6,this['accessHandle']=_0x1ee3e3,_0x1e71d6&SQLITE_OPEN_MAIN_DB&&(this['walAccessHandle']=null,this['pageSize']=0x0,this[_0x2093a7(0x150)]=0x0,this['mapPageToFrame']=new Map(),this[_0x2093a7(0x184)]=new Map(),this['availableFrames']=new Set(),this['localTxId']=0x0,this[_0x2093a7(0x1a8)]=DEFAULT_AUTO_CHECKPOINT,this[_0x2093a7(0x17a)]=![],this[_0x2093a7(0x1c3)]=0x0,this[_0x2093a7(0x1e0)]=0x0,this[_0x2093a7(0x1d8)]=new Map(),this['openLock']=null,this[_0x2093a7(0x138)]=Promise[_0x2093a7(0x1be)](null),this['writeLock']=null);}},FLOOR=class _FLOOR extends FacadeVFS{[_0xb66ba5(0x1a4)]=new Map();static async[_0xb66ba5(0x191)](_0x21a9df,_0x201d10){const _0x5937c6=_0xb66ba5,_0x4ede24=new _FLOOR(_0x21a9df,_0x201d10);return await _0x4ede24[_0x5937c6(0x1a2)](),_0x4ede24;}constructor(_0x13cc86,_0x254c8b){super(_0x13cc86,_0x254c8b);}[_0xb66ba5(0x12d)](){const _0x1ccc20=_0xb66ba5;for(const _0x28b616 of this[_0x1ccc20(0x1a4)][_0x1ccc20(0x141)]()){this['jClose'](_0x28b616);}}async['jOpen'](_0x5b17d9,_0x5cafd3,_0xde34fe,_0x426b3f){const _0x7eed60=_0xb66ba5,_0x573483=[];try{const _0x206999=new URL(_0x5b17d9||Math[_0x7eed60(0x16a)]()[_0x7eed60(0x188)](0x24)['slice'](0x2),'file://'),_0x233f66=_0x206999['pathname'],_0x5bc495=_0x233f66['split']('/')[_0x7eed60(0x14b)](_0x2376a9=>_0x2376a9),_0x3dce95=_0x5bc495['pop'](),_0x366012=!!(_0xde34fe&SQLITE_OPEN_CREATE);let _0x250942=await navigator['storage'][_0x7eed60(0x1c7)]();for(const _0x4c3910 of _0x5bc495){_0x250942=await _0x250942[_0x7eed60(0x174)](_0x4c3910,{'create':_0x366012});}const _0x2305da=await _0x250942[_0x7eed60(0x1a7)](_0x3dce95,{'create':_0x366012}),_0x2d1011=await _0x2305da[_0x7eed60(0x1db)]({'mode':_0x7eed60(0x140)});_0x573483[_0x7eed60(0x165)](()=>{_0x2d1011['close']();});const _0x35acd6=new File(_0x233f66,_0xde34fe,_0x2d1011);if(_0xde34fe&SQLITE_OPEN_MAIN_DB){const _0x25d517=await _0x250942[_0x7eed60(0x1a7)](_0x3dce95+_0x7eed60(0x16b),{'create':!![]});_0x35acd6[_0x7eed60(0x1d1)]=await _0x25d517[_0x7eed60(0x1db)]({'mode':_0x7eed60(0x140)}),_0x573483[_0x7eed60(0x165)](()=>{const _0x31c467=_0x7eed60;_0x35acd6[_0x31c467(0x1d1)][_0x31c467(0x12d)]();}),_0x35acd6['walMetadata']=await new Promise((_0x34c5aa,_0xd6d6c)=>{const _0x11e62f=_0x7eed60,_0xe4cabd=indexedDB[_0x11e62f(0x1e2)](_0x3dce95+_0x11e62f(0x16b),0x1);_0xe4cabd['onsuccess']=()=>_0x34c5aa(_0xe4cabd[_0x11e62f(0x144)]),_0xe4cabd[_0x11e62f(0x175)]=()=>_0xd6d6c(_0xe4cabd[_0x11e62f(0x189)]),_0xe4cabd['onupgradeneeded']=()=>{const _0x53de17=_0x11e62f,_0x300aa5=_0xe4cabd['result'];_0x300aa5[_0x53de17(0x128)]('tx',{'keyPath':'id'});};}),_0x573483[_0x7eed60(0x165)](()=>{const _0x14af65=_0x7eed60;_0x35acd6[_0x14af65(0x1d4)][_0x14af65(0x12d)]();});const _0x30cdec=await this.#lock(_0x233f66,_0x7eed60(0x1bf));if(_0x30cdec)_0x573483['push'](_0x30cdec);if(_0x35acd6[_0x7eed60(0x13a)]['getSize']()>=0x14){const _0x5a40c4=new DataView(new ArrayBuffer(0x2));_0x35acd6[_0x7eed60(0x13a)][_0x7eed60(0x151)](_0x5a40c4,{'at':0x10}),_0x35acd6[_0x7eed60(0x1d0)]=_0x5a40c4['getUint16'](0x0),_0x35acd6[_0x7eed60(0x1d0)]===0x1&&(_0x35acd6['pageSize']=0x10000),log[_0x7eed60(0x137)](_0x7eed60(0x1a1)+_0x35acd6[_0x7eed60(0x1d0)]);}const _0x2acb64=this.#lockName(_0x35acd6[_0x7eed60(0x14d)],'open');await navigator['locks'][_0x7eed60(0x16c)](_0x2acb64,{'ifAvailable':!![]},async _0xdb42f=>{_0xdb42f&&(await this.#verifyFrames(_0x35acd6),await this.#checkpointFull(_0x35acd6));}),_0x35acd6[_0x7eed60(0x11e)]=await this.#lock(_0x233f66,_0x7eed60(0x1e2),{'mode':_0x7eed60(0x15b)}),_0x30cdec(),_0x573483[_0x7eed60(0x1ca)]();}return this[_0x7eed60(0x1a4)][_0x7eed60(0x13b)](_0x5cafd3,_0x35acd6),_0x426b3f['setInt32'](0x0,_0xde34fe,!![]),SQLITE_OK;}catch(_0x2ef757){while(_0x573483[_0x7eed60(0x1c9)]){try{_0x573483[_0x7eed60(0x1ca)]()();}catch(_0xb69f57){console['error'](_0xb69f57);}}return this[_0x7eed60(0x1b9)]=_0x2ef757,SQLITE_CANTOPEN;}}async[_0xb66ba5(0x19e)](_0x3e2087,_0x12b898){const _0x3f0811=_0xb66ba5;try{const _0x9baa58=new URL(_0x3e2087,'file://'),_0x4472db=_0x9baa58['pathname'][_0x3f0811(0x136)]('/')[_0x3f0811(0x14b)](_0x4abb72=>_0x4abb72),_0x10e856=_0x4472db[_0x3f0811(0x1ca)]();let _0x247416=await navigator[_0x3f0811(0x190)][_0x3f0811(0x1c7)]();for(const _0x37c84d of _0x4472db){_0x247416=await _0x247416[_0x3f0811(0x174)](_0x37c84d);}return _0x12b898?await _0x247416[_0x3f0811(0x178)](_0x10e856):_0x247416[_0x3f0811(0x178)](_0x10e856),SQLITE_OK;}catch(_0x58264b){return console['error'](_0x58264b),this[_0x3f0811(0x1b9)]=_0x58264b,SQLITE_IOERR_DELETE;}}async[_0xb66ba5(0x1bc)](_0x15b4a0,_0x563e19,_0x4aeabf){const _0x1f85a6=_0xb66ba5;try{const _0x2f4839=new URL(_0x15b4a0,'file://'),_0x50666d=_0x2f4839[_0x1f85a6(0x1cf)]['split']('/')['filter'](_0x55bd74=>_0x55bd74),_0x587301=_0x50666d['pop']();let _0x5e5085=await navigator['storage'][_0x1f85a6(0x1c7)]();for(const _0x585ca6 of _0x50666d){_0x5e5085=await _0x5e5085[_0x1f85a6(0x174)](_0x585ca6);}const _0x4fb051=await _0x5e5085[_0x1f85a6(0x1a7)](_0x587301);return _0x4aeabf[_0x1f85a6(0x1dd)](0x0,_0x4fb051?0x1:0x0,!![]),SQLITE_OK;}catch(_0x132d03){if(_0x132d03[_0x1f85a6(0x1ae)]===_0x1f85a6(0x15a))return _0x4aeabf['setInt32'](0x0,0x0,!![]),SQLITE_OK;return console[_0x1f85a6(0x189)](_0x132d03),this[_0x1f85a6(0x1b9)]=_0x132d03,SQLITE_IOERR_ACCESS;}}async[_0xb66ba5(0x13f)](_0x327eac){const _0x310b8a=_0xb66ba5;try{const _0x3d2721=this[_0x310b8a(0x1a4)]['get'](_0x327eac);this['mapIdToFile'][_0x310b8a(0x18c)](_0x327eac),_0x3d2721?.[_0x310b8a(0x13a)]?.[_0x310b8a(0x12d)]();if(_0x3d2721?.[_0x310b8a(0x180)]&SQLITE_OPEN_MAIN_DB){const _0x137290=new Promise((_0x52386d,_0x4bff2c)=>{const _0x4c1253=_0x310b8a,_0x1d75b9=_0x3d2721[_0x4c1253(0x1d4)]['transaction']('tx',_0x4c1253(0x196));_0x1d75b9[_0x4c1253(0x164)]=()=>_0x52386d(),_0x1d75b9['onerror']=()=>_0x4bff2c(_0x1d75b9[_0x4c1253(0x189)]),_0x1d75b9[_0x4c1253(0x1d7)]();});_0x3d2721?.[_0x310b8a(0x1d1)]?.[_0x310b8a(0x12d)](),_0x3d2721?.[_0x310b8a(0x138)][_0x310b8a(0x121)](_0x22d2a3=>_0x22d2a3?.()),_0x3d2721?.[_0x310b8a(0x14f)]?.(),_0x3d2721?.[_0x310b8a(0x11e)]?.(),await _0x137290;}return _0x3d2721?.['flags']&SQLITE_OPEN_DELETEONCLOSE&&this[_0x310b8a(0x19e)](_0x3d2721[_0x310b8a(0x14d)],0x0),SQLITE_OK;}catch(_0x4b0194){return console[_0x310b8a(0x189)](_0x4b0194),this[_0x310b8a(0x1b9)]=_0x4b0194,SQLITE_IOERR_CLOSE;}}[_0xb66ba5(0x1af)](_0xe11c77,_0x7b5452,_0xbc4fa8){const _0xd2d467=_0xb66ba5;try{const _0x352184=this[_0xd2d467(0x1a4)][_0xd2d467(0x154)](_0xe11c77);if(_0x352184[_0xd2d467(0x1d1)]&&_0x352184['pageSize']){const _0x4bbe13=Math[_0xd2d467(0x1a9)](_0xbc4fa8/_0x352184['pageSize'])+0x1,_0x3b820d=_0xbc4fa8%_0x352184[_0xd2d467(0x1d0)],_0xa5190c=_0x352184[_0xd2d467(0x1d8)][_0xd2d467(0x154)](_0x4bbe13)?.['frameIndex']??_0x352184[_0xd2d467(0x1bd)][_0xd2d467(0x154)](_0x4bbe13);if(_0xa5190c>=0x0){log[_0xd2d467(0x137)](_0xd2d467(0x17c)+_0x4bbe13+'\x20from\x20WAL\x20'+_0xa5190c);const _0x14fb4c=_0xa5190c*_0x352184[_0xd2d467(0x1d0)]+_0x3b820d,_0x439644=_0x352184[_0xd2d467(0x1d1)]['read'](_0x7b5452[_0xd2d467(0x18b)](),{'at':_0x14fb4c});if(_0x439644!==_0x7b5452[_0xd2d467(0x176)])throw new Error(_0xd2d467(0x17b));return SQLITE_OK;}}const _0x12570a=_0x352184[_0xd2d467(0x13a)][_0xd2d467(0x151)](_0x7b5452[_0xd2d467(0x18b)](),{'at':_0xbc4fa8});if(_0x12570a<_0x7b5452['byteLength'])return _0x7b5452[_0xd2d467(0x1ce)](0x0,_0x12570a),SQLITE_IOERR_SHORT_READ;return SQLITE_OK;}catch(_0xb1d926){return console[_0xd2d467(0x189)](_0xb1d926),this[_0xd2d467(0x1b9)]=_0xb1d926,SQLITE_IOERR_READ;}}['jWrite'](_0x2b4978,_0x5bd20c,_0x12e507){const _0x7f554f=_0xb66ba5;try{const _0x2038ed=this[_0x7f554f(0x1a4)][_0x7f554f(0x154)](_0x2b4978);if(_0x2038ed[_0x7f554f(0x180)]&SQLITE_OPEN_MAIN_DB){!_0x2038ed[_0x7f554f(0x17a)]&&this.#txBegin(_0x2038ed);_0x2038ed[_0x7f554f(0x1d0)]=_0x2038ed[_0x7f554f(0x1d0)]||_0x5bd20c[_0x7f554f(0x176)];const _0x605421=Math['trunc'](_0x12e507/_0x2038ed[_0x7f554f(0x1d0)])+0x1;if(_0x2038ed[_0x7f554f(0x1df)]){let _0x3591e6;if(_0x2038ed[_0x7f554f(0x1d8)][_0x7f554f(0x1ac)](_0x605421))_0x3591e6=_0x2038ed[_0x7f554f(0x1d8)][_0x7f554f(0x154)](_0x605421)[_0x7f554f(0x16f)];else _0x2038ed[_0x7f554f(0x186)][_0x7f554f(0x192)]?(_0x3591e6=_0x2038ed[_0x7f554f(0x186)][_0x7f554f(0x19a)]()[_0x7f554f(0x1d5)]()[_0x7f554f(0x145)],_0x2038ed['availableFrames'][_0x7f554f(0x18c)](_0x3591e6)):_0x3591e6=_0x2038ed[_0x7f554f(0x1e0)]++;log[_0x7f554f(0x137)](_0x7f554f(0x14a)+_0x605421+'\x20to\x20WAL\x20'+_0x3591e6);const _0x86b1f7=_0x2038ed['walAccessHandle'][_0x7f554f(0x1d9)](_0x5bd20c[_0x7f554f(0x18b)](),{'at':_0x3591e6*_0x2038ed['pageSize']});if(_0x86b1f7!==_0x5bd20c[_0x7f554f(0x176)])throw new Error('write\x20error');const _0x27d7f2=new FletcherChecksum()['update'](_0x5bd20c)[_0x7f554f(0x1aa)]();_0x2038ed[_0x7f554f(0x1d8)]['set'](_0x605421,{'frameIndex':_0x3591e6,'digest':_0x27d7f2});}else _0x2038ed[_0x7f554f(0x13a)][_0x7f554f(0x1d9)](_0x5bd20c[_0x7f554f(0x18b)](),{'at':_0x12e507});return _0x2038ed['txPageCount']=Math[_0x7f554f(0x14c)](_0x2038ed['txPageCount'],_0x605421),SQLITE_OK;}return _0x2038ed[_0x7f554f(0x13a)]['write'](_0x5bd20c[_0x7f554f(0x18b)](),{'at':_0x12e507}),SQLITE_OK;}catch(_0x4b1c97){return console[_0x7f554f(0x189)](_0x4b1c97),this['lastError']=_0x4b1c97,SQLITE_IOERR_WRITE;}}[_0xb66ba5(0x17d)](_0x2b8bbc,_0x2426f0){const _0x4d852a=_0xb66ba5;try{const _0x445491=this[_0x4d852a(0x1a4)][_0x4d852a(0x154)](_0x2b8bbc);if(_0x445491[_0x4d852a(0x180)]&SQLITE_OPEN_MAIN_DB)return _0x445491[_0x4d852a(0x1c3)]=Math['trunc'](_0x2426f0/_0x445491[_0x4d852a(0x1d0)]),SQLITE_OK;return _0x445491[_0x4d852a(0x13a)][_0x4d852a(0x173)](_0x2426f0),SQLITE_OK;}catch(_0x2ab97f){return console[_0x4d852a(0x189)](_0x2ab97f),this[_0x4d852a(0x1b9)]=_0x2ab97f,SQLITE_IOERR_TRUNCATE;}}['jSync'](_0x4499c5,_0x30e614){const _0x40d64c=_0xb66ba5;try{const _0x1d47d5=this['mapIdToFile'][_0x40d64c(0x154)](_0x4499c5);if(_0x1d47d5[_0x40d64c(0x1df)])return SQLITE_OK;return _0x1d47d5[_0x40d64c(0x13a)][_0x40d64c(0x199)](),SQLITE_OK;}catch(_0x199ad7){return console[_0x40d64c(0x189)](_0x199ad7),this[_0x40d64c(0x1b9)]=_0x199ad7,SQLITE_IOERR_FSYNC;}}[_0xb66ba5(0x12a)](_0x375a2a,_0x2c18cb){const _0x3876d8=_0xb66ba5;try{const _0x196537=this[_0x3876d8(0x1a4)][_0x3876d8(0x154)](_0x375a2a),_0x35a668=_0x196537[_0x3876d8(0x180)]&SQLITE_OPEN_MAIN_DB?_0x196537[_0x3876d8(0x150)]*_0x196537[_0x3876d8(0x1d0)]:_0x196537[_0x3876d8(0x13a)][_0x3876d8(0x18e)]();return _0x2c18cb['setBigInt64'](0x0,BigInt(_0x35a668),!![]),SQLITE_OK;}catch(_0x3b9be7){return console[_0x3876d8(0x189)](_0x3b9be7),this[_0x3876d8(0x1b9)]=_0x3b9be7,SQLITE_IOERR_FSTAT;}}async[_0xb66ba5(0x185)](_0x3ab35a,_0x1d1eae){const _0x3da8fb=_0xb66ba5;try{const _0x5ba303=this['mapIdToFile'][_0x3da8fb(0x154)](_0x3ab35a);switch(_0x1d1eae){case SQLITE_LOCK_SHARED:const _0x153183=_0x5ba303[_0x3da8fb(0x1d4)][_0x3da8fb(0x1b3)]('tx')[_0x3da8fb(0x193)]('tx'),_0x5446f8=_0x153183[_0x3da8fb(0x1ba)](IDBKeyRange[_0x3da8fb(0x1dc)](_0x5ba303[_0x3da8fb(0x1df)],!![])),_0x790aa9=await idbp(_0x5446f8);this.#updateState(_0x5ba303,_0x790aa9),_0x5ba303[_0x3da8fb(0x138)]=_0x5ba303[_0x3da8fb(0x138)][_0x3da8fb(0x121)](()=>{const _0x5991ac=_0x3da8fb;return this.#lock(_0x5ba303[_0x5991ac(0x14d)],_0x5991ac(0x177)+_0x5ba303[_0x5991ac(0x1df)]+']',{'mode':'shared'});});let _0x203293=![];_0x5ba303['readLock']['finally'](()=>_0x203293=!![]),(async function(){const _0x444472=_0x3da8fb;while(!_0x203293){await idbp(_0x153183[_0x444472(0x146)]([]));}}());break;case SQLITE_LOCK_RESERVED:_0x5ba303[_0x3da8fb(0x14f)]=await this.#lock(_0x5ba303[_0x3da8fb(0x14d)],_0x3da8fb(0x1d9));const _0x432615=_0x5ba303[_0x3da8fb(0x1d4)][_0x3da8fb(0x1b3)]('tx')[_0x3da8fb(0x193)]('tx')[_0x3da8fb(0x1da)](IDBKeyRange[_0x3da8fb(0x1dc)](_0x5ba303[_0x3da8fb(0x1df)],!![]));if(await idbp(_0x432615))return _0x5ba303[_0x3da8fb(0x14f)](),SQLITE_BUSY;break;case SQLITE_LOCK_EXCLUSIVE:_0x5ba303[_0x3da8fb(0x1e0)]=_0x5ba303[_0x3da8fb(0x1d0)]?Math[_0x3da8fb(0x1a9)](_0x5ba303[_0x3da8fb(0x1d1)]['getSize']()/_0x5ba303[_0x3da8fb(0x1d0)]):0x0,log[_0x3da8fb(0x137)](_0x3da8fb(0x153)+_0x5ba303[_0x3da8fb(0x1e0)]),_0x5ba303[_0x3da8fb(0x1d2)]=0x0;if(_0x5ba303[_0x3da8fb(0x1a8)]>0x0&&_0x5ba303[_0x3da8fb(0x1a8)]<_0x5ba303['mapTxToPages'][_0x3da8fb(0x192)]){const _0x5090c4=await navigator[_0x3da8fb(0x19b)][_0x3da8fb(0x1e1)]();_0x5ba303[_0x3da8fb(0x1d2)]=[..._0x5090c4[_0x3da8fb(0x160)],..._0x5090c4['pending']][_0x3da8fb(0x14b)](_0x559755=>_0x559755[_0x3da8fb(0x1ae)][_0x3da8fb(0x14e)](this.#lockName(_0x5ba303['path'],_0x3da8fb(0x151))))[_0x3da8fb(0x19d)](_0x27da3e=>Number(_0x27da3e[_0x3da8fb(0x1ae)][_0x3da8fb(0x133)](/\[(\d+)\]/)[0x1]))[_0x3da8fb(0x134)]((_0x23b510,_0x52801c)=>_0x23b510-_0x52801c)[0x0];}break;}return SQLITE_OK;}catch(_0x43c22c){return console[_0x3da8fb(0x189)](_0x43c22c),this[_0x3da8fb(0x1b9)]=_0x43c22c,SQLITE_IOERR_LOCK;}}async['jUnlock'](_0x37ebe1,_0x2e5b95){const _0x58cd40=_0xb66ba5;try{const _0x5170de=this['mapIdToFile']['get'](_0x37ebe1);switch(_0x2e5b95){case SQLITE_LOCK_SHARED:_0x5170de[_0x58cd40(0x14f)]();break;case SQLITE_LOCK_NONE:_0x5170de[_0x58cd40(0x138)][_0x58cd40(0x121)](_0x3a32e0=>_0x3a32e0?.());break;}return SQLITE_OK;}catch(_0x5d9f46){return console[_0x58cd40(0x189)](_0x5d9f46),this[_0x58cd40(0x1b9)]=_0x5d9f46,SQLITE_IOERR_LOCK;}}async[_0xb66ba5(0x1cc)](_0x152517,_0x377078){const _0x3afd93=_0xb66ba5;try{const _0x44aacf=this[_0x3afd93(0x1a4)][_0x3afd93(0x154)](_0x152517),_0x5f59a8=await this.#lock(_0x44aacf[_0x3afd93(0x14d)],_0x3afd93(0x1d9),{'ifAvailable':!![]});return _0x5f59a8?(_0x377078[_0x3afd93(0x1dd)](0x0,0x0,!![]),_0x5f59a8()):_0x377078[_0x3afd93(0x1dd)](0x0,0x1,!![]),SQLITE_OK;}catch(_0x528b6a){return console[_0x3afd93(0x189)](_0x528b6a),this[_0x3afd93(0x1b9)]=_0x528b6a,SQLITE_IOERR_LOCK;}}['jFileControl'](_0x1ef984,_0x4b8188,_0x9988ec){const _0x3a82bc=_0xb66ba5;try{const _0x30a108=this[_0x3a82bc(0x1a4)][_0x3a82bc(0x154)](_0x1ef984);switch(_0x4b8188){case SQLITE_FCNTL_PRAGMA:const _0x18940a=extractString(_0x9988ec,0x4),_0x2f89aa=extractString(_0x9988ec,0x8);log(_0x3a82bc(0x1d3),_0x30a108['path'],_0x3a82bc(0x125),_0x18940a,_0x2f89aa);const _0x314c7e=_0x38fb20=>{const _0x17e434=_0x3a82bc,_0x3a48f4=new TextEncoder()['encode'](_0x38fb20),_0x44e6e9=this[_0x17e434(0x1c4)][_0x17e434(0x17f)](_0x3a48f4[_0x17e434(0x176)]),_0x1626e9=this[_0x17e434(0x1c4)][_0x17e434(0x18a)][_0x17e434(0x18b)](_0x44e6e9,_0x44e6e9+_0x3a48f4[_0x17e434(0x176)]);return _0x1626e9[_0x17e434(0x13b)](_0x3a48f4),_0x9988ec[_0x17e434(0x1c8)](0x0,_0x44e6e9,!![]),SQLITE_ERROR;};switch(_0x18940a[_0x3a82bc(0x171)]()){case _0x3a82bc(0x163):if(_0x30a108[_0x3a82bc(0x180)]&SQLITE_OPEN_MAIN_DB){if(_0x2f89aa&&_0x30a108[_0x3a82bc(0x1d0)]&&Number(_0x2f89aa)!==_0x30a108[_0x3a82bc(0x1d0)])return SQLITE_ERROR;}break;case'wal_autocheckpoint':if(_0x2f89aa){const _0x1752e3=Number(_0x2f89aa);if(!isNaN(_0x1752e3))_0x30a108[_0x3a82bc(0x1a8)]=_0x1752e3;else return _0x314c7e('wal_autocheckpoint\x20must\x20be\x20numeric\x00'),SQLITE_ERROR;}else return _0x314c7e(_0x30a108[_0x3a82bc(0x1a8)]+'\x00'),SQLITE_OK;break;}break;case SQLITE_FCNTL_SYNC:log(_0x3a82bc(0x1d3),_0x30a108[_0x3a82bc(0x14d)],_0x3a82bc(0x15d));_0x30a108[_0x3a82bc(0x17a)]&&this.#txCommit(_0x30a108);break;case SQLITE_FCNTL_BEGIN_ATOMIC_WRITE:log('xFileControl',_0x30a108[_0x3a82bc(0x14d)],'BEGIN_ATOMIC_WRITE');return SQLITE_OK;case SQLITE_FCNTL_COMMIT_ATOMIC_WRITE:log(_0x3a82bc(0x1d3),_0x30a108[_0x3a82bc(0x14d)],_0x3a82bc(0x194)),this.#txCommit(_0x30a108);return SQLITE_OK;case SQLITE_FCNTL_ROLLBACK_ATOMIC_WRITE:log('xFileControl',_0x30a108['path'],_0x3a82bc(0x147)),this.#txRollback(_0x30a108);return SQLITE_OK;}}catch(_0x3681aa){return console[_0x3a82bc(0x189)](_0x3681aa),this[_0x3a82bc(0x1b9)]=_0x3681aa,SQLITE_IOERR;}return SQLITE_NOTFOUND;}[_0xb66ba5(0x127)](_0x1e6131){return 0x0|SQLITE_IOCAP_BATCH_ATOMIC|SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN;}[_0xb66ba5(0x198)](_0x783e48){const _0x1e906e=_0xb66ba5;if(this[_0x1e906e(0x1b9)]){console[_0x1e906e(0x189)](this[_0x1e906e(0x1b9)]);const _0x230d30=_0x783e48[_0x1e906e(0x18b)](0x0,_0x783e48[_0x1e906e(0x176)]-0x1),{written:_0x4db123}=new TextEncoder()[_0x1e906e(0x182)](this['lastError']['message'],_0x230d30);_0x783e48[_0x4db123]=0x0;}return SQLITE_OK;}#lock(_0x50f1e2,_0x48ade5,_0x284d7b={}){return new Promise(_0x5f5698=>{const _0x2df114=_0x4fb6,_0x1ad84a=this.#lockName(_0x50f1e2,_0x48ade5);navigator['locks'][_0x2df114(0x16c)](_0x1ad84a,_0x284d7b,_0x3ab29a=>{const _0x4aa31c=_0x2df114;log[_0x4aa31c(0x137)](_0x4aa31c(0x158)+_0x1ad84a+'\x27\x20'+JSON[_0x4aa31c(0x1cd)](_0x284d7b));if(_0x3ab29a)return new Promise(_0xb984b3=>{_0x5f5698(()=>{const _0x4c8900=_0x4fb6;log[_0x4c8900(0x137)](_0x4c8900(0x126)+_0x1ad84a+'\x27'),_0xb984b3();});});_0x5f5698(null);});});}#lockName(_0x5b7db0,_0x1b5225){return _0x5b7db0+':'+_0x1b5225;}#txBegin(_0x452760){const _0x38d9f2=_0xb66ba5;console[_0x38d9f2(0x1a3)](!_0x452760[_0x38d9f2(0x17a)],_0x38d9f2(0x15f)),_0x452760[_0x38d9f2(0x17a)]=!![],_0x452760[_0x38d9f2(0x1c3)]=_0x452760[_0x38d9f2(0x150)];}#txCommit(_0x31a301){const _0x1e7615=_0xb66ba5,_0xd82c17=_0x31a301['walMetadata'][_0x1e7615(0x1b3)]('tx',_0x1e7615(0x196),{'durability':_0x1e7615(0x152)})['objectStore']('tx');let _0x5d85d3=_0x31a301[_0x1e7615(0x184)]['size']?_0x31a301['mapTxToPages'][_0x1e7615(0x141)]()[_0x1e7615(0x1d5)]()[_0x1e7615(0x145)]:0x0;const _0x16dba4=_0x31a301[_0x1e7615(0x184)][_0x1e7615(0x192)]-(_0x31a301[_0x1e7615(0x1df)]-_0x31a301[_0x1e7615(0x1d2)]+0x1);if(_0x31a301[_0x1e7615(0x1a8)]>0x0&&_0x31a301[_0x1e7615(0x1a8)]<=_0x16dba4){const _0xd5514a=[];for(const [_0x3a65d1,_0x41eab2]of _0x31a301[_0x1e7615(0x184)]){_0x5d85d3=_0x3a65d1;if(_0x3a65d1>=_0x31a301[_0x1e7615(0x1d2)])break;_0xd5514a[_0x1e7615(0x165)](..._0x41eab2);}const _0x31d409=new Set();while(_0xd5514a['length']){const [_0x3588f7,_0x898fd2]=_0xd5514a[_0x1e7615(0x1ca)]();if(!_0x31d409['has'](_0x3588f7)){log[_0x1e7615(0x137)](_0x1e7615(0x12f)+_0x3588f7+_0x1e7615(0x12e)+_0x898fd2);const _0x134871=new Uint8Array(_0x31a301[_0x1e7615(0x1d0)]);_0x31a301[_0x1e7615(0x1d1)][_0x1e7615(0x151)](_0x134871,{'at':_0x898fd2*_0x31a301[_0x1e7615(0x1d0)]}),_0x31a301[_0x1e7615(0x13a)]['write'](_0x134871,{'at':(_0x3588f7-0x1)*_0x31a301[_0x1e7615(0x1d0)]}),_0x31d409['add'](_0x3588f7);}}_0x31d409['size']&&(_0x31a301['accessHandle'][_0x1e7615(0x199)](),_0xd82c17[_0x1e7615(0x18c)](IDBKeyRange[_0x1e7615(0x122)](_0x31a301['oldestTxInUse'],!![])));}const _0x5d48a5={'id':_0x31a301[_0x1e7615(0x1df)]+0x1,'n':_0x31a301[_0x1e7615(0x1c3)],'s':_0x5d85d3,'p':[..._0x31a301['txPages']][_0x1e7615(0x19d)](([_0x52df80,{frameIndex:_0x5aface,digest:_0x2a4b1c}])=>[_0x52df80,_0x5aface,_0x2a4b1c])};_0xd82c17[_0x1e7615(0x142)](_0x5d48a5),_0xd82c17[_0x1e7615(0x1b3)][_0x1e7615(0x1d7)](),_0x31a301[_0x1e7615(0x1c3)]=0x0,_0x31a301['txPages'][_0x1e7615(0x123)](),_0x31a301[_0x1e7615(0x17a)]=![],_0x31a301[_0x1e7615(0x1d2)]=_0x31a301['localTxId'],this.#updateState(_0x31a301,[_0x5d48a5]);}#txRollback(_0x4f303a){const _0x25d70f=_0xb66ba5;for(const [_0x2d0c8e,{frameIndex:_0x20e60e}]of _0x4f303a[_0x25d70f(0x1d8)]){log[_0x25d70f(0x137)]('Restoring\x20frame\x20'+_0x20e60e+_0x25d70f(0x1b2)+_0x2d0c8e),_0x4f303a['availableFrames'][_0x25d70f(0x159)](_0x20e60e);}_0x4f303a[_0x25d70f(0x1c3)]=0x0,_0x4f303a['txPages'][_0x25d70f(0x123)](),_0x4f303a['txActive']=![];}#verifyFrames(_0x4e652b){return new Promise((_0xf35422,_0x4600dd)=>{const _0x319475=_0x4fb6,_0x4bdf9d=_0x4e652b[_0x319475(0x1d4)][_0x319475(0x1b3)]('tx',_0x319475(0x196))[_0x319475(0x193)]('tx'),_0x5128a1=_0x4bdf9d[_0x319475(0x155)]();_0x5128a1['onsuccess']=()=>{const _0x162218=_0x319475;try{const _0x53e574=_0x5128a1['result'];if(_0x53e574){const _0x30a63f=_0x53e574[_0x162218(0x145)];for(const [_0x25f123,_0x2558b2,_0x2bab98]of _0x30a63f['p']){const _0x50a1ac=new Uint8Array(_0x4e652b[_0x162218(0x1d0)]);_0x4e652b['walAccessHandle'][_0x162218(0x151)](_0x50a1ac,{'at':_0x2558b2*_0x4e652b[_0x162218(0x1d0)]});const _0x50e24f=new FletcherChecksum()[_0x162218(0x19f)](_0x50a1ac)[_0x162218(0x1aa)]();if(_0x50e24f[_0x162218(0x179)]((_0x290e1f,_0x4475ee)=>_0x290e1f!==_0x2bab98[_0x4475ee]))return console[_0x162218(0x132)](_0x162218(0x1c5)+_0x30a63f['id']),idbp(_0x4bdf9d['delete'](IDBKeyRange['lowerBound'](_0x30a63f['id']))),_0xf35422();}_0x53e574[_0x162218(0x149)]();}else _0xf35422();}catch(_0x3bd694){_0x4600dd(_0x3bd694);}},_0x5128a1[_0x319475(0x175)]=()=>_0x4600dd(_0x5128a1['error']);});}#checkpointFull(_0x45d64f){return new Promise((_0x1f0204,_0x1149c3)=>{const _0x1f100a=_0x4fb6;let _0x516307;const _0x219960=new Set(),_0x11b66a=_0x45d64f[_0x1f100a(0x1d4)][_0x1f100a(0x1b3)]('tx',_0x1f100a(0x196))['objectStore']('tx'),_0x54e833=_0x11b66a[_0x1f100a(0x155)](null,_0x1f100a(0x130));_0x54e833[_0x1f100a(0x1b1)]=()=>{const _0x54a250=_0x1f100a,_0x2aef38=_0x54e833['result'];if(_0x2aef38){const _0x5ed5cb=_0x2aef38[_0x54a250(0x145)];_0x516307=_0x516307??_0x5ed5cb;for(const [_0x2efc64,_0x19111c,_0x219752]of _0x5ed5cb['p']){if(!_0x219960['has'](_0x2efc64)){log[_0x54a250(0x137)](_0x54a250(0x12f)+_0x2efc64+_0x54a250(0x12e)+_0x19111c);const _0xd37e1d=new Uint8Array(_0x45d64f[_0x54a250(0x1d0)]);_0x45d64f['walAccessHandle'][_0x54a250(0x151)](_0xd37e1d,{'at':_0x19111c*_0x45d64f[_0x54a250(0x1d0)]}),_0x45d64f[_0x54a250(0x13a)]['write'](_0xd37e1d,{'at':(_0x2efc64-0x1)*_0x45d64f[_0x54a250(0x1d0)]}),_0x219960[_0x54a250(0x159)](_0x2efc64);}}_0x2aef38[_0x54a250(0x149)]();}else _0x45d64f['accessHandle'][_0x54a250(0x199)](),_0x45d64f[_0x54a250(0x1d1)]['truncate'](0x0),idbp(_0x11b66a[_0x54a250(0x123)]()),_0x516307&&(_0x516307['s']=_0x516307['id'],_0x516307['p']=[],idbp(_0x11b66a['add'](_0x516307))),_0x1f0204();},_0x54e833[_0x1f100a(0x175)]=()=>_0x1149c3(_0x54e833[_0x1f100a(0x189)]);});}#updateState(_0x51b9e4,_0xbd6870){const _0x1bc57a=_0xb66ba5,_0x503db7=_0xbd6870['at'](-0x1);if(_0x503db7){_0x51b9e4[_0x1bc57a(0x1df)]=_0x503db7['id'],_0x51b9e4[_0x1bc57a(0x150)]=_0x503db7['n']??0x0,log[_0x1bc57a(0x137)]('Pruning\x20tx\x20records\x20older\x20than\x20'+_0x503db7['s']);let _0x4f040e=![];for(const [_0x54a8be,_0x4c609a]of _0x51b9e4[_0x1bc57a(0x184)]){if(_0x54a8be>=(_0x503db7['s']??0x0))break;for(const [_0x20a219,_0x34911f]of _0x4c609a){log['debug'](_0x1bc57a(0x161)+_0x20a219+_0x1bc57a(0x12e)+_0x34911f+_0x1bc57a(0x195)),_0x51b9e4[_0x1bc57a(0x1bd)][_0x1bc57a(0x154)](_0x20a219)===_0x34911f&&_0x51b9e4[_0x1bc57a(0x1bd)][_0x1bc57a(0x18c)](_0x20a219),_0x51b9e4[_0x1bc57a(0x186)][_0x1bc57a(0x159)](_0x34911f);}_0x51b9e4['mapTxToPages'][_0x1bc57a(0x1ac)](_0x54a8be)?(_0x51b9e4[_0x1bc57a(0x184)][_0x1bc57a(0x18c)](_0x54a8be),_0x4f040e=![]):_0x4f040e=!![];}if(_0x4f040e){const _0x299b1b=_0x51b9e4[_0x1bc57a(0x1d0)]?Math['trunc'](_0x51b9e4[_0x1bc57a(0x1d1)][_0x1bc57a(0x18e)]()/_0x51b9e4[_0x1bc57a(0x1d0)]):0x0;_0x51b9e4['availableFrames']=new Set(Array[_0x1bc57a(0x131)]({'length':_0x299b1b},(_0x312854,_0x1ca880)=>_0x1ca880));}}for(const _0x554363 of _0xbd6870){log[_0x1bc57a(0x137)](_0x1bc57a(0x13d)+_0x554363['id']);const _0x616d99=[];for(const [_0x323637,_0x3dff72]of _0x554363['p']){log[_0x1bc57a(0x137)](_0x1bc57a(0x143)+_0x323637+_0x1bc57a(0x1a5)+_0x3dff72+'\x20in\x20WAL'),_0x51b9e4[_0x1bc57a(0x1bd)][_0x1bc57a(0x13b)](_0x323637,_0x3dff72),_0x51b9e4['availableFrames'][_0x1bc57a(0x18c)](_0x3dff72),_0x616d99[_0x1bc57a(0x165)]([_0x323637,_0x3dff72]);}_0x51b9e4[_0x1bc57a(0x184)][_0x1bc57a(0x13b)](_0x554363['id'],_0x616d99);}}};function idbp(_0x2e322d){return new Promise((_0x175ce4,_0x2d0f4c)=>{const _0x13c070=_0x4fb6;_0x2e322d[_0x13c070(0x1b1)]=()=>_0x175ce4(_0x2e322d[_0x13c070(0x144)]),_0x2e322d[_0x13c070(0x175)]=()=>_0x2d0f4c(_0x2e322d[_0x13c070(0x189)]);});}function extractString(_0x4c2d33,_0x40d336){const _0x55d222=_0xb66ba5,_0x90300=_0x4c2d33[_0x55d222(0x170)](_0x40d336,!![]);if(_0x90300){const _0x238d15=new Uint8Array(_0x4c2d33[_0x55d222(0x183)],_0x90300);return new TextDecoder()[_0x55d222(0x12b)](_0x238d15[_0x55d222(0x18b)](0x0,_0x238d15[_0x55d222(0x172)](0x0)));}return null;}var FletcherChecksum=class{['h1']=0x0;['h2']=0x0;[_0xb66ba5(0x19f)]=((()=>{return data=>{for(const value of data){this['h1']=(this['h1']+value)%0xffffffff,this['h2']=(this['h2']+this['h1'])%0xffffffff;}return this;};})());[_0xb66ba5(0x1aa)](){return new Uint32Array([this['h1'],this['h2']]);}};function _0x4fb6(_0x24907d,_0x5d8158){const _0x214a49=_0x214a();return _0x4fb6=function(_0x4fb675,_0x136022){_0x4fb675=_0x4fb675-0x11e;let _0x544bb4=_0x214a49[_0x4fb675];return _0x544bb4;},_0x4fb6(_0x24907d,_0x5d8158);}export{FLOOR};